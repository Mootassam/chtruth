"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[28],{6891:function(n,t,e){e.d(t,{Z:function(){return b}});var a=e(70885),r=e(74165),i=e(15861),o=e(15671),s=e(43144),c=e(99811),l=e.n(c),u=e(10499),d=e(63922),p=e(95162),f=e(81384),m=e(31881),g=e.n(m),b=function(){function n(){(0,o.Z)(this,n)}return(0,s.Z)(n,null,[{key:"validate",value:function(n,t){if(t){if(t.image&&!n.type.startsWith("image"))throw new Error((0,u.ag)("fileUploader.image"));if(t.storage.maxSizeInBytes&&n.size>t.storage.maxSizeInBytes)throw new Error((0,u.ag)("fileUploader.size",l()(t.storage.maxSizeInBytes)));var e=h(n.name);if(t.formats&&!t.formats.includes(e))throw new Error((0,u.ag)("fileUploader.formats",t.formats.join(", ")))}}},{key:"upload",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,e){var a,i,o,s,c,l,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,this.validate(t,e),n.next=7;break;case 4:return n.prev=4,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 7:return a=h(t.name),i=(0,p.Z)(),o="".concat(i,".").concat(a),n.next=12,this.fetchFileCredentials(o,e);case 12:return s=n.sent,c=s.uploadCredentials,l=s.downloadUrl,u=s.privateUrl,n.next=18,this.uploadToServer(t,c);case 18:return n.abrupt("return",{id:i,name:t.name,sizeInBytes:t.size,publicUrl:c&&c.publicUrl?c.publicUrl:null,privateUrl:u,downloadUrl:l,new:!0});case 19:case"end":return n.stop()}}),n,this,[[0,4]])})));return function(t,e){return n.apply(this,arguments)}}()},{key:"fetchFileCredentials",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,e){var a,i,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=f.Z.get(),n.next=3,d.Z.get("/tenant/".concat(a,"/file/credentials"),{params:{filename:t,storageId:e.storage.id}});case 3:return i=n.sent,o=i.data,n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},{key:"uploadToServer",value:function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t,e){var i,o,s,c,l,u,d;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(n.prev=0,i=e.url,o=new FormData,s=0,c=Object.entries(e.fields||{});s<c.length;s++)l=(0,a.Z)(c[s],2),u=l[0],d=l[1],o.append(u,d);return o.append("file",t),n.abrupt("return",g().post(i,o,{headers:{"Content-Type":"multipart/form-data"}}));case 8:throw n.prev=8,n.t0=n.catch(0),console.error(n.t0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t,e){return n.apply(this,arguments)}}()}]),n}();function h(n){if(!n)return null;var t=/(?:\.([^.]+))?$/.exec(n);return t?t[1]:null}},27829:function(n,t,e){var a,r=e(30168),i=e(38269).ZP.div(a||(a=(0,r.Z)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n  .card-stats .card-body {\n    padding: 15px !important;\n  }\n  .text-center {\n    text-align: center !important;\n  }\n  .card-stats .icon-big.icon-danger, .card-stats .icon-big.icon-default, .card-stats .icon-big.icon-info, .card-stats .icon-big.icon-primary, .card-stats .icon-big.icon-secondary, .card-stats .icon-big.icon-success, .card-stats .icon-big.icon-warning {\n    border-radius: 5px;\n}\n.card-stats .icon-big.icon-danger i, .card-stats .icon-big.icon-default i, .card-stats .icon-big.icon-info i, .card-stats .icon-big.icon-primary i, .card-stats .icon-big.icon-secondary i, .card-stats .icon-big.icon-success i, .card-stats .icon-big.icon-warning i {\n  color: #fff!important;\n}\n  .pb-3,\n  .py-3 {\n    padding-bottom: 1rem !important;\n  }\n  .pt-3,\n  .py-3 {\n    padding-top: 1rem !important;\n  }\n  .d-inline-block {\n    display: inline-block !important;\n  }\n  .pl-3, .px-3 {\n    padding-left: 1rem !important;\n  }\n  .card-stats .icon-big {\n    width: 100%;\n    height: 100%;\n    font-size: 2.2em;\n    min-height: 64px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  \n  }\n  .bubble-shadow-small {\n  position: relative; \n  }\n\n  .card-title {\n    margin: 0;\n    color: #575962;\n    font-size: 18px;\n    font-weight: 400;\n    line-height: 1.6;\n  }\n  .card-stats .icon-big.icon-primary {\n    background: #177dff;\n  .mt-3,\n  .my-3 {\n    margin-top: 1rem !important;\n  }\n  "])));t.Z=i},10028:function(n,t,e){e.r(t),e.d(t,{default:function(){return M}});var a=e(47313),r=e(45788),i=e(63830),o=e(10499),s=e(74165),c=e(15861),l=e(92928),u=e(33512),d=e(72803),p="PAYMENTSETTINGS_VIEW",f={FIND_STARTED:"".concat(p,"_FIND_STARTED"),FIND_SUCCESS:"".concat(p,"_FIND_SUCCESS"),FIND_ERROR:"".concat(p,"_FIND_ERROR"),doFind:function(n){return function(){var t=(0,c.Z)((0,s.Z)().mark((function t(e){var a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:f.FIND_STARTED}),t.next=4,l.Z.find(n);case 4:a=t.sent,e({type:f.FIND_SUCCESS,payload:a}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),u.Z.handle(t.t0),e({type:f.FIND_ERROR}),(0,d.s1)().push("/paymentsettings");case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(n){return t.apply(this,arguments)}}()}},m=f,g=e(76747),b=function(n){return n.paymentsettings.view},h=(0,g.P1)([b],(function(n){return n.record})),x={selectLoading:(0,g.P1)([b],(function(n){return Boolean(n.loading)})),selectRecord:h,selectRaw:b},v=e(61567),y=e(25969),Z=e(31287),w=e(69727),j=e(46417);var k=function(n){var t=n.record;return n.loading||!t?(0,j.jsx)(v.Z,{}):(0,j.jsxs)(y.Z,{children:[(0,j.jsx)(Z.Z,{label:(0,o.ag)("entities.paymentsettings.fields.name"),value:t.name}),(0,j.jsx)(Z.Z,{label:(0,o.ag)("entities.paymentsettings.fields.information"),value:t.information}),(0,j.jsx)(Z.Z,{label:(0,o.ag)("entities.paymentsettings.fields.uniqueKeywords"),value:t.uniqueKeywords}),(0,j.jsx)(w.Z,{label:(0,o.ag)("entities.paymentsettings.fields.photo"),value:t.photo}),(0,j.jsx)(Z.Z,{label:(0,o.ag)("entities.paymentsettings.fields.text"),value:t.text}),(0,j.jsx)(Z.Z,{label:(0,o.ag)("entities.paymentsettings.fields.status"),value:t.status&&(0,o.ag)("entities.paymentsettings.enumerators.status.".concat(t.status))}),(0,j.jsx)(Z.Z,{label:(0,o.ag)("entities.paymentsettings.fields.type"),value:t.type})]})},C=e(70885),N=e(28303),S=e(23516),B=e(80009),I=e(6643),T=e(15106),E=e(44587),R=e(10419),U=e(95748);var F=function(n){var t=(0,a.useState)(!1),e=(0,C.Z)(t,2),i=e[0],s=e[1],c=(0,r.I0)(),l=n.match.params.id,u=(0,r.v9)(S.Z.selectPermissionToRead),d=(0,r.v9)(B.Z.selectPermissionToEdit),p=(0,r.v9)(B.Z.selectPermissionToDestroy),f=(0,r.v9)(T.Z.selectLoading),m=function(){s(!1)};return(0,j.jsxs)(R.Z,{children:[d&&(0,j.jsx)(N.rU,{to:"/paymentsettings/".concat(l,"/edit"),children:(0,j.jsxs)("button",{className:"btn btn-primary",type:"button",children:[(0,j.jsx)(U.Z,{iconClass:"fas fa-edit"}),(0,o.ag)("common.edit")]})}),p&&(0,j.jsxs)("button",{className:"btn btn-primary",type:"button",disabled:f,onClick:function(){s(!0)},children:[(0,j.jsx)(U.Z,{loading:f,iconClass:"fas fa-trash-alt"}),(0,o.ag)("common.destroy")]}),u&&(0,j.jsx)(N.rU,{to:"/audit-logs?entityId=".concat(encodeURIComponent(l)),children:(0,j.jsxs)("button",{className:"btn btn-light",type:"button",children:[(0,j.jsx)(U.Z,{iconClass:"fas fa-history"}),(0,o.ag)("auditLog.menu")]})}),i&&(0,j.jsx)(E.Z,{title:(0,o.ag)("common.areYouSure"),onConfirm:function(){return m(),void c(I.Z.doDestroy(l))},onClose:function(){return m()},okText:(0,o.ag)("common.yes"),cancelText:(0,o.ag)("common.no")})]})},P=e(27829),D=e(75352);var M=function(){var n=(0,r.I0)(),t=(0,i.$B)(),e=(0,r.v9)(x.selectLoading),s=(0,r.v9)(x.selectRecord);return(0,a.useEffect)((function(){n(m.doFind(t.params.id))}),[n,t.params.id]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(P.Z,{children:[(0,j.jsx)(D.Z,{children:(0,o.ag)("entities.paymentsettings.view.title")}),(0,j.jsx)(F,{match:t}),(0,j.jsx)(k,{loading:e,record:s})]})})}},61567:function(n,t,e){e(47313);var a=e(46417);t.Z=function(){return(0,a.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,a.jsx)("div",{className:"spinner-border text-primary"})})}},75352:function(n,t,e){var a,r=e(30168),i=e(38269).ZP.h1(a||(a=(0,r.Z)(["\n  margin-bottom: 24px;\n"])));t.Z=i},10419:function(n,t,e){var a,r=e(30168),i=e(38269).ZP.div(a||(a=(0,r.Z)(["\n  margin-bottom: 8px;\n\n  .btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"])));t.Z=i},25969:function(n,t,e){var a,r=e(30168),i=e(38269).ZP.div(a||(a=(0,r.Z)(["\n  .btn.btn-link {\n    padding-left: 0;\n  }\n"])));t.Z=i},89722:function(n,t,e){e.d(t,{Z:function(){return y}});var a,r,i=e(74165),o=e(42982),s=e(15861),c=e(70885),l=e(47313),u=e(6891),d=e(33512),p=e(10499),f=e(30168),m=e(38269),g=m.ZP.div(a||(a=(0,f.Z)(["\n  .img-card:hover .img-buttons {\n    display: block;\n  }\n\n  .img-buttons {\n    display: none;\n    position: relative;\n    bottom: 2.1rem;\n    width: calc(100px);\n    text-align: center;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .img-buttons * {\n    color: white;\n  }\n"]))),b=e(46417),h=m.ZP.div(r||(r=(0,f.Z)(["\n  /* The Modal (background) */\n  .modal {\n    display: block;\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0); /* Fallback color */\n    background-color: rgba(\n      0,\n      0,\n      0,\n      0.9\n    ); /* Black w/ opacity */\n  }\n\n  /* Modal Content (Image) */\n  .modal-content {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n  }\n\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\n  #caption {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n    text-align: center;\n    color: #ccc;\n    padding: 10px 0;\n    height: 150px;\n  }\n\n  /* Add Animation - Zoom in the Modal */\n  .modal-content,\n  #caption {\n    animation-name: zoom;\n    animation-duration: 0.6s;\n  }\n\n  @keyframes zoom {\n    from {\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n\n  /* The Close Button */\n  .close {\n    position: absolute;\n    top: 15px;\n    right: 35px;\n    color: #f1f1f1;\n    font-size: 40px;\n    font-weight: bold;\n    transition: 0.3s;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  /* 100% Image Width on Smaller Screens */\n  @media only screen and (max-width: 700px) {\n    .modal-content {\n      width: 100%;\n    }\n  }\n"])));var x=function(n){return(0,b.jsx)(h,{children:(0,b.jsxs)("div",{className:"modal",children:[(0,b.jsx)("span",{className:"close",onClick:n.onClose,children:"\xd7"}),(0,b.jsx)("img",{className:"modal-content",src:n.src,alt:n.alt})]})})},v=e(95748);var y=function(n){var t=(0,l.useState)(!1),e=(0,c.Z)(t,2),a=e[0],r=e[1],f=(0,l.useState)(null),m=(0,c.Z)(f,2),h=m[0],y=m[1],Z=(0,l.useRef)(),w=function(){var t=n.value;return t?Array.isArray(t)?t:[t]:[]},j=function(){var t=(0,s.Z)((0,i.Z)().mark((function t(e){var a,s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(a=e.target.files)&&a.length){t.next=4;break}return t.abrupt("return");case 4:return s=a[0],u.Z.validate(s,{storage:n.storage,image:!0}),r(!0),t.next=9,u.Z.upload(s,{storage:n.storage,image:!0});case 9:s=t.sent,Z.current.value="",r(!1),n.onChange([].concat((0,o.Z)(w()),[s])),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(0),Z.current.value="",console.error(t.t0),r(!1),d.Z.showMessage(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(n){return t.apply(this,arguments)}}(),k=n.max,C=n.readonly,N=(0,b.jsxs)("label",{className:"btn btn-outline-secondary px-4 mb-2",style:{cursor:"pointer"},children:[(0,b.jsx)(v.Z,{loading:a,iconClass:"fas fa-plus"}),(0,p.ag)("fileUploader.upload"),(0,b.jsx)("input",{style:{display:"none"},disabled:a||C,accept:"image/*",type:"file",onChange:j,ref:Z})]});return(0,b.jsxs)(g,{children:[C||k&&w().map((function(n){return{uid:n.id||void 0,name:n.name,status:"done",url:n.downloadUrl}})).length>=k?null:N,w()&&w().length?(0,b.jsx)("div",{className:"d-flex flex-row flex-wrap",children:w().map((function(t){return(0,b.jsxs)("div",{className:"mr-2 mb-2 img-card",style:{height:"100px"},children:[(0,b.jsx)("img",{alt:t.name,src:t.downloadUrl,className:"img-thumbnail",style:{width:"100px",height:"100px",objectFit:"cover"}}),(0,b.jsxs)("div",{className:"img-buttons rounded-bottom",children:[(0,b.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){return function(n){y({src:n.downloadUrl,alt:n.name})}(t)},children:(0,b.jsx)("i",{className:"fas fa-search"})}),!C&&(0,b.jsx)("button",{type:"button",className:"btn btn-link ml-2",onClick:function(){return e=t.id,void n.onChange(w().filter((function(n){return n.id!==e})));var e},children:(0,b.jsx)("i",{className:"fas fa-times"})})]})]},t.id)}))}):null,h&&(0,b.jsx)(x,{src:h.src,alt:h.alt,onClose:function(){y(null)}})]})}},69727:function(n,t,e){e(47313);var a=e(89722),r=e(46417);t.Z=function(n){var t=function(){var t=n.value;return t?Array.isArray(t)?t:[t]:[]};return t().length?(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"col-form-label",children:n.label}),(0,r.jsx)("br",{}),(0,r.jsx)(a.Z,{readonly:!0,value:t()})]}):null}},31287:function(n,t,e){e(47313);var a=e(46417);t.Z=function(n){if(!n.value&&0!==n.value&&!1!==n.value)return null;var t="".concat(n.prefix?"".concat(n.prefix," "):"").concat(n.value);return(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"col-form-label",children:n.label}),(0,a.jsx)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",value:t})]})}},99811:function(n,t,e){!function(t){var e=/^(b|B)$/,a={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},r={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function i(n){var t,i,o,s,c,l,u,d,p,f,m,g,b,h,x,v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},y=[],Z=0,w=void 0,j=void 0;if(isNaN(n))throw new TypeError("Invalid number");return i=!0===v.bits,m=!0===v.unix,t=v.base||2,f=void 0!==v.round?v.round:m?1:2,l=void 0!==v.locale?v.locale:"",u=v.localeOptions||{},g=void 0!==v.separator?v.separator:"",b=void 0!==v.spacer?v.spacer:m?"":" ",x=v.symbols||{},h=2===t&&v.standard||"jedec",p=v.output||"string",s=!0===v.fullform,c=v.fullforms instanceof Array?v.fullforms:[],w=void 0!==v.exponent?v.exponent:-1,o=2<t?1e3:1024,(d=(j=Number(n))<0)&&(j=-j),(-1===w||isNaN(w))&&(w=Math.floor(Math.log(j)/Math.log(o)))<0&&(w=0),8<w&&(w=8),"exponent"===p?w:(0===j?(y[0]=0,y[1]=m?"":a[h][i?"bits":"bytes"][w]):(Z=j/(2===t?Math.pow(2,10*w):Math.pow(1e3,w)),i&&o<=(Z*=8)&&w<8&&(Z/=o,w++),y[0]=Number(Z.toFixed(0<w?f:0)),y[0]===o&&w<8&&void 0===v.exponent&&(y[0]=1,w++),y[1]=10===t&&1===w?i?"kb":"kB":a[h][i?"bits":"bytes"][w],m&&(y[1]="jedec"===h?y[1].charAt(0):0<w?y[1].replace(/B$/,""):y[1],e.test(y[1])&&(y[0]=Math.floor(y[0]),y[1]=""))),d&&(y[0]=-y[0]),y[1]=x[y[1]]||y[1],!0===l?y[0]=y[0].toLocaleString():0<l.length?y[0]=y[0].toLocaleString(l,u):0<g.length&&(y[0]=y[0].toString().replace(".",g)),"array"===p?y:(s&&(y[1]=c[w]?c[w]:r[h][w]+(i?"bit":"byte")+(1===y[0]?"":"s")),"object"===p?{value:y[0],symbol:y[1],exponent:w}:y.join(b)))}i.partial=function(n){return function(t){return i(t,n)}},n.exports=i}("undefined"!=typeof window?window:e.g)},95162:function(n,t,e){var a;e.d(t,{Z:function(){return d}});var r=new Uint8Array(16);function i(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(n){return"string"===typeof n&&o.test(n)},c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));var u=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(c[n[t+0]]+c[n[t+1]]+c[n[t+2]]+c[n[t+3]]+"-"+c[n[t+4]]+c[n[t+5]]+"-"+c[n[t+6]]+c[n[t+7]]+"-"+c[n[t+8]]+c[n[t+9]]+"-"+c[n[t+10]]+c[n[t+11]]+c[n[t+12]]+c[n[t+13]]+c[n[t+14]]+c[n[t+15]]).toLowerCase();if(!s(e))throw TypeError("Stringified UUID is invalid");return e};var d=function(n,t,e){var a=(n=n||{}).random||(n.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=a[r];return t}return u(a)}}}]);