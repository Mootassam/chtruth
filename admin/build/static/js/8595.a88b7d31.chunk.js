"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[8595],{4370:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var o=n(70885),a=n(47313),r=n(45788),i=n(63830),s=n(10499),l=n(60612),u=n(76747),c=function(e){return e.category.form},d=(0,u.P1)([c],(function(e){return e.record})),m={selectInitLoading:(0,u.P1)([c],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,u.P1)([c],(function(e){return Boolean(e.saveLoading)})),selectRecord:d,selectRaw:c},f=n(40476),g=n(1413),p=n(43270),b=n(89994),h=n(95748),v=n(68160),y=n(3463),x=n(67357),j=n(47575),Z=n(5544),B=n(83851),C=n(96111),N=n(85543),w=n(46417),S=y.Ry().shape({name:b.Z.string((0,s.ag)("entities.category.fields.name"),{}),slug:b.Z.string((0,s.ag)("entities.category.fields.slug"),{}),photo:b.Z.images((0,s.ag)("entities.category.fields.photo"),{}),metaKeywords:b.Z.string((0,s.ag)("entities.category.fields.metaKeywords"),{}),metaDescriptions:b.Z.string((0,s.ag)("entities.category.fields.metaDescriptions"),{}),status:b.Z.enumerator((0,s.ag)("entities.category.fields.status"),{options:B.Z.status}),isFeature:b.Z.boolean((0,s.ag)("entities.category.fields.isFeature"),{}),serial:b.Z.integer((0,s.ag)("entities.category.fields.serial"),{})});var M=function(e){var t=(0,a.useState)((function(){var t=e.record||{};return{name:t.name,number:t.number,type:t.type,slug:t.slug,photo:t.photo||[],metaKeywords:t.metaKeywords,metaDescriptions:t.metaDescriptions,status:t.status,isFeature:t.isFeature,serial:t.serial}})),n=(0,o.Z)(t,1)[0],r=(0,p.cI)({resolver:(0,x.X)(S),mode:"all",defaultValues:n}),i=function(t){var n;e.onSubmit(null===(n=e.record)||void 0===n?void 0:n.id,t)};return(0,w.jsx)(v.Z,{children:(0,w.jsx)(p.RV,(0,g.Z)((0,g.Z)({},r),{},{children:(0,w.jsxs)("form",{onSubmit:r.handleSubmit(i),children:[(0,w.jsxs)("div",{className:"row",children:[(0,w.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,w.jsx)(Z.Z,{name:"type",label:(0,s.ag)("entities.category.fields.type"),options:B.Z.type.map((function(e){return{value:e,label:(0,s.ag)("entities.category.enumerators.type.".concat(e))}})),required:!1})}),(0,w.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,w.jsx)(N.Z,{name:"photo",label:(0,s.ag)("entities.category.fields.photo"),required:!1,storage:C.Z.values.categoryPhoto,max:void 0})}),(0,w.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,w.jsx)(j.Z,{name:"name",label:(0,s.ag)("entities.category.fields.name"),required:!1,autoFocus:!0})}),(0,w.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,w.jsx)(j.Z,{name:"number",label:(0,s.ag)("entities.category.fields.slug"),required:!1})})]}),(0,w.jsxs)("div",{className:"form-buttons",children:[(0,w.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:r.handleSubmit(i),children:[(0,w.jsx)(h.Z,{loading:e.saveLoading,iconClass:"far fa-save"}),"\xa0",(0,s.ag)("common.save")]}),(0,w.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(n).forEach((function(e){r.setValue(e,n[e])}))},children:[(0,w.jsx)("i",{className:"fas fa-undo"}),"\xa0",(0,s.ag)("common.reset")]}),e.onCancel?(0,w.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[(0,w.jsx)("i",{className:"fas fa-times"}),"\xa0",(0,s.ag)("common.cancel")]}):null]})]})}))})},L=n(27829),k=n(61567),E=n(75352);var V=function(e){var t=(0,a.useState)(!1),n=(0,o.Z)(t,2),u=n[0],c=n[1],d=(0,r.I0)(),g=(0,i.$B)(),p=(0,r.v9)(m.selectInitLoading),b=(0,r.v9)(m.selectSaveLoading),h=(0,r.v9)(m.selectRecord),v=Boolean(g.params.id),y=v?(0,s.ag)("entities.category.edit.title"):(0,s.ag)("entities.category.new.title");return(0,a.useEffect)((function(){d(l.Z.doInit(g.params.id)),c(!0)}),[d,g.params.id]),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(L.Z,{children:[(0,w.jsx)(E.Z,{children:y}),p&&(0,w.jsx)(k.Z,{}),u&&!p&&(0,w.jsx)(M,{saveLoading:b,initLoading:p,record:h,isEditing:v,onSubmit:function(e,t){d(v?l.Z.doUpdate(e,t):l.Z.doCreate(t))},onCancel:function(){return(0,f.s1)().push("/category")}})]})})}},61567:function(e,t,n){n(47313);var o=n(46417);t.Z=function(){return(0,o.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,o.jsx)("div",{className:"spinner-border text-primary"})})}},47575:function(e,t,n){n(47313);var o=n(43270),a=n(49384),r=n(46417);function i(e){var t=e.label,n=e.description,i=e.name,s=e.hint,l=e.type,u=e.placeholder,c=e.autoFocus,d=e.autoComplete,m=e.required,f=e.externalErrorMessage,g=e.disabled,p=e.endAdornment,b=(0,o.Gc)(),h=b.register,v=b.errors,y=b.formState,x=y.touched,j=y.isSubmitted,Z=a.Z.errorMessage(i,v,x,j,f);return(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("div",{className:p?"input-group":"",children:[Boolean(t)&&(0,r.jsx)("label",{className:"col-form-label ".concat(m?"required":null),htmlFor:i,children:t}),n,(0,r.jsx)("input",{id:i,name:i,type:l,ref:h,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:u||void 0,autoFocus:c||void 0,autoComplete:d||void 0,disabled:g,className:"form-control ".concat(Z?"is-invalid":"")}),p&&(0,r.jsx)("div",{className:"input-group-append",children:(0,r.jsx)("span",{className:"input-group-text",children:p})})]}),(0,r.jsx)("div",{className:"invalid-feedback",children:Z}),Boolean(s)&&(0,r.jsx)("small",{className:"form-text text-muted",children:s})]})}i.defaultProps={type:"text",required:!1},t.Z=i},5544:function(e,t,n){var o=n(1413),a=n(47313),r=n(73622),i=n(10499),s=n(43270),l=n(49384),u=n(46417);function c(e){var t=e.label,n=e.name,c=e.hint,d=e.options,m=e.required,f=e.mode,g=e.placeholder,p=e.isClearable,b=e.externalErrorMessage,h=(0,s.Gc)(),v=h.register,y=h.errors,x=h.formState,j=x.touched,Z=x.isSubmitted,B=h.setValue,C=h.watch,N=l.Z.errorMessage(n,y,j,Z,b),w=C(n);(0,a.useEffect)((function(){v({name:n})}),[v,n]);var S=function(){return w?w.map((function(e){return d.find((function(t){return t.value===e}))})):[]},M=function(){var t=e.options;return null!=w?t.find((function(e){return e.value===w})):null},L=function(t){if(!t)return B(n,[],{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange([]));var o=t.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));B(n,o,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(o)},k=function(t){if(!t)return B(n,null,{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange(null));B(n,t.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t.value)},E=Boolean(N)?{container:function(e){return(0,o.Z)((0,o.Z)({},e),{},{color:"hsl(0,0%,20%)"})},control:function(e){return(0,o.Z)((0,o.Z)({},e),{},{borderColor:"red"})}}:{container:function(e){return(0,o.Z)((0,o.Z)({},e),{},{color:"hsl(0,0%,20%)"})}};return(0,u.jsxs)("div",{className:"form-group",children:[Boolean(t)&&(0,u.jsx)("label",{className:"col-form-label ".concat(m?"required":null),children:t}),(0,u.jsx)("br",{}),(0,u.jsx)(r.ZP,{className:"w-100",value:"multiple"===e.mode?S():M(),onChange:function(t){return"multiple"===e.mode?L(t):k(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},id:n,name:n,options:d,isMulti:"multiple"===f,placeholder:g||"",isClearable:p,styles:E,loadingMessage:function(){return(0,i.ag)("autocomplete.loading")},noOptionsMessage:function(){return(0,i.ag)("autocomplete.noOptions")}}),(0,u.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(c)&&(0,u.jsx)("small",{className:"form-text text-muted",children:c})]})}c.defaultProps={required:!1,isClearable:!0},t.Z=c},99811:function(e,t,n){!function(t){var n=/^(b|B)$/,o={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},a={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function r(e){var t,r,i,s,l,u,c,d,m,f,g,p,b,h,v,y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},x=[],j=0,Z=void 0,B=void 0;if(isNaN(e))throw new TypeError("Invalid number");return r=!0===y.bits,g=!0===y.unix,t=y.base||2,f=void 0!==y.round?y.round:g?1:2,u=void 0!==y.locale?y.locale:"",c=y.localeOptions||{},p=void 0!==y.separator?y.separator:"",b=void 0!==y.spacer?y.spacer:g?"":" ",v=y.symbols||{},h=2===t&&y.standard||"jedec",m=y.output||"string",s=!0===y.fullform,l=y.fullforms instanceof Array?y.fullforms:[],Z=void 0!==y.exponent?y.exponent:-1,i=2<t?1e3:1024,(d=(B=Number(e))<0)&&(B=-B),(-1===Z||isNaN(Z))&&(Z=Math.floor(Math.log(B)/Math.log(i)))<0&&(Z=0),8<Z&&(Z=8),"exponent"===m?Z:(0===B?(x[0]=0,x[1]=g?"":o[h][r?"bits":"bytes"][Z]):(j=B/(2===t?Math.pow(2,10*Z):Math.pow(1e3,Z)),r&&i<=(j*=8)&&Z<8&&(j/=i,Z++),x[0]=Number(j.toFixed(0<Z?f:0)),x[0]===i&&Z<8&&void 0===y.exponent&&(x[0]=1,Z++),x[1]=10===t&&1===Z?r?"kb":"kB":o[h][r?"bits":"bytes"][Z],g&&(x[1]="jedec"===h?x[1].charAt(0):0<Z?x[1].replace(/B$/,""):x[1],n.test(x[1])&&(x[0]=Math.floor(x[0]),x[1]=""))),d&&(x[0]=-x[0]),x[1]=v[x[1]]||x[1],!0===u?x[0]=x[0].toLocaleString():0<u.length?x[0]=x[0].toLocaleString(u,c):0<p.length&&(x[0]=x[0].toString().replace(".",p)),"array"===m?x:(s&&(x[1]=l[Z]?l[Z]:a[h][Z]+(r?"bit":"byte")+(1===x[0]?"":"s")),"object"===m?{value:x[0],symbol:x[1],exponent:Z}:x.join(b)))}r.partial=function(e){return function(t){return r(t,e)}},e.exports=r}("undefined"!=typeof window?window:n.g)},73622:function(e,t,n){n(47313),n(83235),n(1168);var o=n(85732),a=(n(96312),n(71902),n(87201));n(94297);var r=(0,a.m)(o.S);t.ZP=r},95162:function(e,t,n){var o;n.d(t,{Z:function(){return d}});var a=new Uint8Array(16);function r(){if(!o&&!(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(a)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&i.test(e)},l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};var d=function(e,t,n){var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=o[a];return t}return c(o)}}}]);