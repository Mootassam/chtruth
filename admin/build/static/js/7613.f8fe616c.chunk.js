"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[7613],{57613:function(e,n,i){i.r(n),i.d(n,{default:function(){return B}});var t=i(70885),a=i(47313),s=i(45788),o=i(63830),r=i(10499),c=i(38388),d=i(76747),l=function(e){return e.vip.form},m=(0,d.P1)([l],(function(e){return e.record})),u={selectInitLoading:(0,d.P1)([l],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,d.P1)([l],(function(e){return Boolean(e.saveLoading)})),selectRecord:m,selectRaw:l},g=i(72803),p=i(1413),f=i(43270),b=i(89994),h=i(95748),x=i(68160),v=i(3463),j=i(67357),Z=i(47575),y=i(68031),N=i(25289),w=i(5544),k=i(46417),C=v.Ry().shape({orderno:b.Z.string((0,r.ag)("entities.deposit.fields.orderno"),{required:!0}),amount:b.Z.decimal((0,r.ag)("entities.deposit.fields.amount"),{required:!0}),txid:b.Z.string((0,r.ag)("entities.deposit.fields.txid"),{required:!0}),rechargechannel:b.Z.string((0,r.ag)("entities.deposit.fields.rechargechannel"),{required:!0}),rechargetime:b.Z.datetime((0,r.ag)("entities.deposit.fields.rechargetime"),{required:!0}),auditor:b.Z.relationToOne((0,r.ag)("entities.deposit.fields.auditor"),{}),acceptime:b.Z.datetime((0,r.ag)("entities.deposit.fields.acceptime"),{}),status:b.Z.enumerator((0,r.ag)("entities.deposit.fields.status"),{options:N.Z.status})});var L=function(e){var n=(0,a.useState)((function(){var n=e.record||{};return{orderno:n.orderno||"",amount:n.amount,txid:n.txid||"",rechargechannel:n.rechargechannel||"",rechargetime:n.rechargetime,auditor:n.auditor||null,acceptime:n.acceptime,status:n.status||"pending"}})),i=(0,t.Z)(n,1)[0],s=(0,f.cI)({resolver:(0,j.X)(C),mode:"all",defaultValues:i}),o=function(n){var i;e.onSubmit(null===(i=e.record)||void 0===i?void 0:i.id,n)};return(0,k.jsx)(x.Z,{children:(0,k.jsx)(f.RV,(0,p.Z)((0,p.Z)({},s),{},{children:(0,k.jsxs)("form",{onSubmit:s.handleSubmit(o),children:[(0,k.jsxs)("div",{className:"row",children:[(0,k.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,k.jsx)(Z.Z,{name:"orderno",label:(0,r.ag)("entities.deposit.fields.orderno"),required:!0})}),(0,k.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,k.jsx)(Z.Z,{name:"amount",label:(0,r.ag)("entities.deposit.fields.amount"),required:!0,type:"number"})}),(0,k.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,k.jsx)(Z.Z,{name:"txid",label:(0,r.ag)("entities.deposit.fields.txid"),required:!0})}),(0,k.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,k.jsx)(Z.Z,{name:"rechargechannel",label:(0,r.ag)("entities.deposit.fields.rechargechannel"),required:!0})}),(0,k.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,k.jsx)(Z.Z,{name:"rechargetime",label:(0,r.ag)("entities.deposit.fields.rechargetime"),required:!0,type:"datetime-local"})}),(0,k.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,k.jsx)(y.Z,{name:"auditor",label:(0,r.ag)("entities.deposit.fields.auditor")})}),(0,k.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,k.jsx)(Z.Z,{name:"acceptime",label:(0,r.ag)("entities.deposit.fields.acceptime"),type:"datetime-local"})}),(0,k.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,k.jsx)(w.Z,{name:"status",label:(0,r.ag)("entities.deposit.fields.status"),options:N.Z.status.map((function(e){return{value:e,label:(0,r.ag)("entities.transaction.enumerators.status.".concat(e))}})),required:!0})})]}),(0,k.jsxs)("div",{className:"form-buttons",children:[(0,k.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:s.handleSubmit(o),children:[(0,k.jsx)(h.Z,{loading:e.saveLoading,iconClass:"far fa-save"}),"\xa0",(0,r.ag)("common.save")]}),(0,k.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(i).forEach((function(e){s.setValue(e,i[e])}))},children:[(0,k.jsx)("i",{className:"fas fa-undo"}),"\xa0",(0,r.ag)("common.reset")]}),e.onCancel?(0,k.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[(0,k.jsx)("i",{className:"fas fa-times"}),"\xa0",(0,r.ag)("common.cancel")]}):null]})]})}))})},q=i(27829),S=i(61567),I=i(75352);var B=function(e){var n=(0,a.useState)(!1),i=(0,t.Z)(n,2),d=i[0],l=i[1],m=(0,s.I0)(),p=(0,o.$B)(),f=(0,s.v9)(u.selectInitLoading),b=(0,s.v9)(u.selectSaveLoading),h=(0,s.v9)(u.selectRecord),x=Boolean(p.params.id),v=x?(0,r.ag)("entities.deposit.edit.title"):(0,r.ag)("entities.deposit.new.title");return(0,a.useEffect)((function(){m(c.Z.doInit(p.params.id)),l(!0)}),[m,p.params.id]),(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(q.Z,{children:[(0,k.jsx)(I.Z,{children:v}),f&&(0,k.jsx)(S.Z,{}),d&&!f&&(0,k.jsx)(L,{saveLoading:b,initLoading:f,record:h,isEditing:x,onSubmit:function(e,n){m(x?c.Z.doUpdate(e,n):c.Z.doCreate(n))},onCancel:function(){return(0,g.s1)().push("/Deposit")}})]})})}},27829:function(e,n,i){var t,a=i(30168),s=i(38269).ZP.div(t||(t=(0,a.Z)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n  .card-stats .card-body {\n    padding: 15px !important;\n  }\n  .text-center {\n    text-align: center !important;\n  }\n  .card-stats .icon-big.icon-danger, .card-stats .icon-big.icon-default, .card-stats .icon-big.icon-info, .card-stats .icon-big.icon-primary, .card-stats .icon-big.icon-secondary, .card-stats .icon-big.icon-success, .card-stats .icon-big.icon-warning {\n    border-radius: 5px;\n}\n.card-stats .icon-big.icon-danger i, .card-stats .icon-big.icon-default i, .card-stats .icon-big.icon-info i, .card-stats .icon-big.icon-primary i, .card-stats .icon-big.icon-secondary i, .card-stats .icon-big.icon-success i, .card-stats .icon-big.icon-warning i {\n  color: #fff!important;\n}\n  .pb-3,\n  .py-3 {\n    padding-bottom: 1rem !important;\n  }\n  .pt-3,\n  .py-3 {\n    padding-top: 1rem !important;\n  }\n  .d-inline-block {\n    display: inline-block !important;\n  }\n  .pl-3, .px-3 {\n    padding-left: 1rem !important;\n  }\n  .card-stats .icon-big {\n    width: 100%;\n    height: 100%;\n    font-size: 2.2em;\n    min-height: 64px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  \n  }\n  .bubble-shadow-small {\n  position: relative; \n  }\n\n  .card-title {\n    margin: 0;\n    color: #575962;\n    font-size: 18px;\n    font-weight: 400;\n    line-height: 1.6;\n  }\n  .card-stats .icon-big.icon-primary {\n    background: #177dff;\n  .mt-3,\n  .my-3 {\n    margin-top: 1rem !important;\n  }\n  "])));n.Z=s},61567:function(e,n,i){i(47313);var t=i(46417);n.Z=function(){return(0,t.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,t.jsx)("div",{className:"spinner-border text-primary"})})}},75352:function(e,n,i){var t,a=i(30168),s=i(38269).ZP.h1(t||(t=(0,a.Z)(["\n  margin-bottom: 24px;\n"])));n.Z=s}}]);