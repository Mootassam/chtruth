"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[4974],{74974:function(e,s,a){a.r(s),a.d(s,{default:function(){return U}});var l=a(47313),n=a(10499),c=a(27829),t=a(75352),i=a(1413),r=a(70885),o=a(43270),d=a(45788),u=a(47590),m=a(36172),h=a(23377),x=a(63442),f=a(95748),j=a(47575),g=a(5544),Z=a(69138),N=a(3463),b=a(67357),v=a(13586),p=a(40846),k=a(46417),C=N.Ry().shape({fullName:u.Z.string((0,n.ag)("user.fields.fullName")),email:u.Z.email((0,n.ag)("user.fields.email")),role:u.Z.enumerator((0,n.ag)("user.fields.role")),mobile:u.Z.integer((0,n.ag)("Mobile")),secteur:u.Z.enumerator((0,n.ag)("Secteur")),employeur:u.Z.string((0,n.ag)("Employeur")),profession:u.Z.string((0,n.ag)("Profession")),adresse:u.Z.string((0,n.ag)("Adresse")),cin:u.Z.integer((0,n.ag)("C.I.N")),date_naissance:u.Z.dateRange((0,n.ag)("date Naissance")),etat_civil:u.Z.enumerator((0,n.ag)("Etat Civil")),status:u.Z.enumerator((0,n.ag)("Status")),lien_facebook:u.Z.string((0,n.ag)("Lien Facebook")),parrain:u.Z.enumerator((0,n.ag)("Parrain"))}),S={fullName:null,email:null,role:null,status:null},w={fullName:{label:(0,n.ag)("user.fields.fullName"),render:p.Z.generic()},email:{label:(0,n.ag)("user.fields.email"),render:p.Z.generic()},role:{label:(0,n.ag)("user.fields.role"),render:function(e){return e?(0,n.ag)("roles.".concat(e,".label")):null}},invitationcode:{label:(0,n.ag)("user.fields.invitationcode"),render:p.Z.generic()},status:{label:(0,n.ag)("user.fields.status"),render:p.Z.enumerator("user.status")}};var y=function(e){var s=(0,d.v9)(h.Z.selectRawFilter),a=(0,d.I0)(),c=(0,l.useState)(!1),t=(0,r.Z)(c,2),u=t[0],N=t[1],p=(0,l.useState)((function(){return(0,i.Z)((0,i.Z)({},S),s)})),y=(0,r.Z)(p,1)[0],_=(0,o.cI)({resolver:(0,b.X)(C),defaultValues:y,mode:"all"});(0,l.useEffect)((function(){a(m.Z.doFetch(C.cast(y),s))}),[a]);var P=function(e){console.log(e);var s=_.getValues();a(m.Z.doFetch(e,s)),N(!1)},R=e.loading;return(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(v.Z,{onClick:function(){N(!u)},renders:w,values:s,expanded:u,onRemove:function(e){return _.setValue(e,S[e]),_.handleSubmit(P)()}}),(0,k.jsx)("div",{className:"container",children:(0,k.jsx)("div",{className:"collapse ".concat(u?"show":""),children:(0,k.jsx)(o.RV,(0,i.Z)((0,i.Z)({},_),{},{children:(0,k.jsxs)("form",{onSubmit:_.handleSubmit(P),children:[(0,k.jsxs)("div",{className:"row",children:[(0,k.jsx)("div",{className:"col-lg-4 col-12",children:(0,k.jsx)(j.Z,{name:"email",label:(0,n.ag)("user.fields.email")})}),(0,k.jsx)("div",{className:"col-lg-4 col-12",children:(0,k.jsx)(j.Z,{name:"fullName",label:(0,n.ag)("user.fields.fullName")})}),(0,k.jsx)("div",{className:"col-lg-4 col-12",children:(0,k.jsx)(j.Z,{name:"invitationcode",label:(0,n.ag)("user.fields.invitationcode")})}),(0,k.jsx)("div",{className:"col-lg-6 col-12",children:(0,k.jsx)(g.Z,{name:"status",label:(0,n.ag)("user.fields.status"),options:x.Z.status.map((function(e){return{value:e,label:(0,n.ag)("user.status.".concat(e))}}))})}),(0,k.jsx)("div",{className:"col-lg-6 col-12",children:(0,k.jsx)(g.Z,{name:"role",label:(0,n.ag)("user.fields.role"),options:x.Z.roles.map((function(e){return{value:e,label:(0,n.ag)("roles.".concat(e,".label"))}}))})})]}),(0,k.jsx)("div",{className:"row",children:(0,k.jsxs)("div",{className:"col-12 filter-buttons",children:[(0,k.jsxs)("button",{className:"btn btn-primary",type:"submit",disabled:R,children:[(0,k.jsx)(f.Z,{loading:R,iconClass:"fas fa-search"}),(0,n.ag)("common.search")]}),(0,k.jsxs)("button",{className:"btn btn-light",type:"button",onClick:function(){Object.keys(S).forEach((function(e){_.setValue(e,S[e])})),a(m.Z.doReset()),N(!1)},disabled:R,children:[(0,k.jsx)(f.Z,{loading:R,iconClass:"fas fa-undo"}),(0,n.ag)("common.reset")]})]})})]})}))})})]})},_=(a(74165),a(15861),a(15021)),P=a(28303),R=a(97249),T=a(61567),E=a(44587),I=a(93488),L=a(78589);a(74773);var F=function(){var e=(0,d.I0)(),s=(0,l.useState)(null),a=(0,r.Z)(s,2),c=a[0],t=a[1],i=(0,l.useState)(""),o=(0,r.Z)(i,2),u=o[0],x=(o[1],(0,d.v9)(L.Z.selectCountRecord)),f=(0,d.v9)(L.Z.selectLoading),j=(0,d.v9)(h.Z.selectLoading),g=(0,d.v9)(h.Z.selectRows),Z=(0,d.v9)(h.Z.selectPagination),N=(0,d.v9)(h.Z.selectSelectedKeys),b=(0,l.useState)(!1),v=(0,r.Z)(b,2),p=v[0],C=v[1],S=(0,d.v9)(h.Z.selectHasRows),w=(0,d.v9)(h.Z.selectSorter),y=(0,l.useState)(0),F=(0,r.Z)(y,2),A=F[0],V=(F[1],(0,d.v9)(h.Z.selectIsAllSelected)),D=(0,d.v9)(_.Z.selectPermissionToEdit),H=(0,d.v9)(_.Z.selectPermissionToDestroy),K=function(s){var a=w.field===s&&"ascend"===w.order?"descend":"ascend";e(m.Z.doChangeSort({field:s,order:a}))};return(0,l.useEffect)((function(){}),[e,x]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"spot-list-container",children:[(0,k.jsx)("div",{className:"table-responsive",children:(0,k.jsxs)("table",{className:"spot-list-table",children:[(0,k.jsx)("thead",{className:"table-header",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"checkbox-column",children:S&&(0,k.jsx)("div",{className:"checkbox-wrapper",children:(0,k.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:Boolean(V),onChange:function(){e(m.Z.doToggleAllSelected())}})})}),(0,k.jsxs)("th",{className:"sortable-header",onClick:function(){return K("email")},children:[(0,n.ag)("user.fields.email"),"email"===w.field&&(0,k.jsx)("span",{className:"sort-icon",children:"ascend"===w.order?"\u2191":"\u2193"})]}),(0,k.jsxs)("th",{className:"sortable-header",onClick:function(){return K("fullName")},children:[(0,n.ag)("user.fields.fullName"),"fullName"===w.field&&(0,k.jsx)("span",{className:"sort-icon",children:"ascend"===w.order?"\u2191":"\u2193"})]}),(0,k.jsxs)("th",{className:"sortable-header",onClick:function(){return K("invitationcode")},children:[(0,n.ag)("user.fields.invitationcode"),"invitationcode"===w.field&&(0,k.jsx)("span",{className:"sort-icon",children:"ascend"===w.order?"\u2191":"\u2193"})]}),(0,k.jsxs)("th",{className:"sortable-header",onClick:function(){return K("refcode")},children:[(0,n.ag)("user.fields.refcode"),"refcode"===w.field&&(0,k.jsx)("span",{className:"sort-icon",children:"ascend"===w.order?"\u2191":"\u2193"})]}),(0,k.jsx)("th",{children:"Location"}),(0,k.jsx)("th",{className:"sortable-header",children:(0,n.ag)("user.fields.withdrawPassword")}),(0,k.jsx)("th",{className:"sortable-header",children:(0,n.ag)("user.fields.status")}),(0,k.jsx)("th",{className:"actions-header",children:"Actions"})]})}),(0,k.jsxs)("tbody",{className:"table-body",children:[j&&(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:8,className:"loading-cell",children:(0,k.jsxs)("div",{className:"loading-container",children:[(0,k.jsx)(T.Z,{}),(0,k.jsx)("span",{className:"loading-text",children:"Loading data..."})]})})}),!j&&!S&&(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:8,className:"no-data-cell",children:(0,k.jsxs)("div",{className:"no-data-content",children:[(0,k.jsx)("i",{className:"fas fa-database no-data-icon"}),(0,k.jsx)("p",{children:(0,n.ag)("table.noData")})]})})}),!j&&g.map((function(s){return(0,k.jsxs)("tr",{className:"table-row",children:[(0,k.jsx)("td",{className:"checkbox-column",children:(0,k.jsx)("div",{className:"checkbox-wrapper",children:(0,k.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:N.includes(s.id),onChange:function(){return a=s.id,void e(m.Z.doToggleOneSelected(a));var a}})})}),(0,k.jsx)("td",{className:"table-cell",children:s.email}),(0,k.jsx)("td",{className:"table-cell",children:s.fullName}),(0,k.jsx)("td",{className:"table-cell",children:s.invitationcode}),(0,k.jsx)("td",{className:"table-cell",children:s.refcode}),(0,k.jsxs)("td",{children:[" ",s.ipAddress," ",(0,k.jsx)("br",{})," ",s.country," "]}),(0,k.jsx)("td",{className:"table-cell",children:s.withdrawPassword}),(0,k.jsx)("td",{className:"table-cell",children:(0,k.jsx)(I.Z,{value:s.status})}),(0,k.jsx)("td",{className:"actions-cell",children:(0,k.jsxs)("div",{className:"actions-container",children:[D&&(0,k.jsx)(P.rU,{className:"btn btn-link",to:"/password-reset/".concat(s.id),children:(0,k.jsx)("i",{className:"fas fa-key"})}),D&&(0,k.jsx)(P.rU,{className:"btn btn-link",to:"/user/".concat(s.id,"/edit"),children:(0,k.jsx)("i",{className:"fas fa-edit"})}),H&&(0,k.jsxs)("button",{className:"btn-action delete",onClick:function(){return t(s.id)},children:[(0,k.jsx)("i",{className:"fas fa-lock"}),(0,k.jsx)("span",{children:(0,n.ag)("common.freeze")})]})]})})]},s.id)}))]})]})}),(0,k.jsx)("div",{className:"pagination-container",children:(0,k.jsx)(R.Z,{onChange:function(s){e(m.Z.doChangePagination(s))},disabled:j,pagination:Z})})]}),c&&(0,k.jsx)(E.Z,{title:(0,n.ag)("common.areYouSure"),onConfirm:function(){return s=c,t(null),void e(m.Z.doDestroy(s));var s},onClose:function(){return t(null)},okText:(0,n.ag)("common.yes"),cancelText:(0,n.ag)("common.no")}),!f&&p&&(0,k.jsxs)("div",{className:"modal__socore",children:[(0,k.jsx)("div",{className:"score__close",onClick:function(){return C(!1)},children:(0,k.jsx)("i",{className:"fa fa-close font"})}),(0,k.jsx)("div",{className:"modal__contentscore",children:(0,k.jsxs)("p",{className:"text__score",children:[A," / ",u]})})]})]})},A=(a(28745),a(23516)),V=a(10419);var D=function(e){return(0,d.I0)(),(0,d.v9)(A.Z.selectPermissionToRead),(0,d.v9)(_.Z.selectPermissionToCreate),(0,d.v9)(_.Z.selectPermissionToImport),(0,d.v9)(_.Z.selectPermissionToDestroy),(0,d.v9)(h.Z.selectHasRows),(0,d.v9)(h.Z.selectExportLoading),(0,d.v9)(h.Z.selectLoading),(0,d.v9)(h.Z.selectSelectedKeys),(0,k.jsx)(V.Z,{})},H=a(22102),K=a(63849),O=a(31616);var U=function(){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(H.Z,{fluid:!0,children:(0,k.jsxs)(K.Z,{children:[(0,k.jsx)(O.Z,{xs:9,children:(0,k.jsx)(t.Z,{children:(0,n.ag)("user.title")})}),(0,k.jsx)(O.Z,{md:"auto",children:(0,k.jsx)(D,{})})]})}),(0,k.jsx)(y,{}),(0,k.jsx)(F,{})]})})}}}]);