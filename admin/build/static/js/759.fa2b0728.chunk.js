"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[759],{10759:function(e,i,n){n.r(i),n.d(i,{default:function(){return A}});var t=n(70885),o=n(47313),s=n(45788),a=n(63830),r=n(10499),l=n(9518),c=n(76747),d=function(e){return e.vip.form},u=(0,c.P1)([d],(function(e){return e.record})),m={selectInitLoading:(0,c.P1)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,c.P1)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:u,selectRaw:d},f=n(72803),g=n(1413),p=n(43270),b=n(89994),x=n(95748),v=n(68160),h=n(6473),j=n(67357),Z=n(47575),P=n(68031),y=n(5544),L=n(46417),N=h.Ry().shape({futuresAmount:b.Z.decimal((0,r.ag)("entities.futures.fields.futuresAmount"),{required:!0}),contractDuration:b.Z.string((0,r.ag)("entities.futures.fields.contractDuration"),{required:!0}),direction:b.Z.string((0,r.ag)("entities.futures.fields.direction"),{required:!0}),openPositionPrice:b.Z.decimal((0,r.ag)("entities.futures.fields.openPositionPrice"),{required:!0}),openPositionTime:b.Z.datetime((0,r.ag)("entities.futures.fields.openPositionTime"),{required:!0}),closePositionPrice:b.Z.decimal((0,r.ag)("entities.futures.fields.closePositionPrice"),{}),closePositionTime:b.Z.datetime((0,r.ag)("entities.futures.fields.closePositionTime"),{}),profitAndLoss:b.Z.decimal((0,r.ag)("entities.futures.fields.profitAndLoss"),{}),leverage:b.Z.decimal((0,r.ag)("entities.futures.fields.leverage"),{required:!0}),control:b.Z.string((0,r.ag)("entities.futures.fields.control"),{required:!0}),operate:b.Z.string((0,r.ag)("entities.futures.fields.operate"),{required:!0}),auditor:b.Z.relationToOne((0,r.ag)("entities.futures.fields.auditor"),{})});var q=function(e){var i=(0,o.useState)((function(){var i=e.record||{};return{futuresAmount:i.futuresAmount,contractDuration:i.contractDuration,direction:i.direction,openPositionPrice:i.openPositionPrice,openPositionTime:i.openPositionTime,closePositionPrice:i.closePositionPrice,closePositionTime:i.closePositionTime,profitAndLoss:i.profitAndLoss,leverage:i.leverage,control:i.control,operate:i.operate,auditor:i.auditor||null}})),n=(0,t.Z)(i,1)[0],s=(0,p.cI)({resolver:(0,j.X)(N),mode:"all",defaultValues:n}),a=function(i){var n;e.onSubmit(null===(n=e.record)||void 0===n?void 0:n.id,i)};return(0,L.jsx)(v.Z,{children:(0,L.jsx)(p.RV,(0,g.Z)((0,g.Z)({},s),{},{children:(0,L.jsxs)("form",{onSubmit:s.handleSubmit(a),children:[(0,L.jsxs)("div",{className:"row g-3",children:[(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(Z.Z,{name:"futuresAmount",label:(0,r.ag)("entities.futures.fields.futuresAmount"),required:!0,type:"number"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(Z.Z,{name:"contractDuration",label:(0,r.ag)("entities.futures.fields.contractDuration"),required:!0})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(y.Z,{name:"direction",label:(0,r.ag)("entities.futures.fields.direction"),options:[{value:"BUY",label:"Buy"},{value:"SELL",label:"Sell"}],required:!0})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(Z.Z,{name:"openPositionPrice",label:(0,r.ag)("entities.futures.fields.openPositionPrice"),required:!0,type:"number"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(Z.Z,{name:"openPositionTime",label:(0,r.ag)("entities.futures.fields.openPositionTime"),required:!0,type:"datetime-local"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(Z.Z,{name:"closePositionPrice",label:(0,r.ag)("entities.futures.fields.closePositionPrice"),type:"number"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(Z.Z,{name:"closePositionTime",label:(0,r.ag)("entities.futures.fields.closePositionTime"),type:"datetime-local"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(Z.Z,{name:"profitAndLoss",label:(0,r.ag)("entities.futures.fields.profitAndLoss"),type:"number"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(Z.Z,{name:"leverage",label:(0,r.ag)("entities.futures.fields.leverage"),required:!0,type:"number"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(y.Z,{name:"control",label:(0,r.ag)("entities.futures.fields.control"),options:[{value:"normal",label:"Normal"},{value:"loss",label:"Loss"},{value:"profit",label:"Profit"}],required:!0})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(y.Z,{name:"operate",label:(0,r.ag)("entities.futures.fields.operate"),options:[{value:"high",label:"High"},{value:"low",label:"Low"}],required:!0})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,L.jsx)(P.Z,{name:"auditor",label:(0,r.ag)("entities.futures.fields.auditor")})})]}),(0,L.jsxs)("div",{className:"form-buttons d-flex flex-wrap gap-2 mt-3",children:[(0,L.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:s.handleSubmit(a),children:[(0,L.jsx)(x.Z,{loading:e.saveLoading,iconClass:"far fa-save"}),"\xa0",(0,r.ag)("common.save")]}),(0,L.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(n).forEach((function(e){s.setValue(e,n[e])}))},children:[(0,L.jsx)("i",{className:"fas fa-undo"}),"\xa0",(0,r.ag)("common.reset")]}),e.onCancel&&(0,L.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:e.onCancel,children:[(0,L.jsx)("i",{className:"fas fa-times"}),"\xa0",(0,r.ag)("common.cancel")]})]})]})}))})},w=n(27829),T=n(61567),k=n(75352);var A=function(e){var i=(0,o.useState)(!1),n=(0,t.Z)(i,2),c=n[0],d=n[1],u=(0,s.I0)(),g=(0,a.$B)(),p=(0,s.v9)(m.selectInitLoading),b=(0,s.v9)(m.selectSaveLoading),x=(0,s.v9)(m.selectRecord),v=Boolean(g.params.id),h=v?(0,r.ag)("entities.futures.edit.title"):(0,r.ag)("entities.futures.new.title");return(0,o.useEffect)((function(){u(l.Z.doInit(g.params.id)),d(!0)}),[u,g.params.id]),(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(w.Z,{children:[(0,L.jsx)(k.Z,{children:h}),p&&(0,L.jsx)(T.Z,{}),c&&!p&&(0,L.jsx)(q,{saveLoading:b,initLoading:p,record:x,isEditing:v,onSubmit:function(e,i){u(v?l.Z.doUpdate(e,i):l.Z.doCreate(i))},onCancel:function(){return(0,f.s1)().push("/futures")}})]})})}},27829:function(e,i,n){var t,o=n(30168),s=n(38269).ZP.div(t||(t=(0,o.Z)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n  .card-stats .card-body {\n    padding: 15px !important;\n  }\n  .text-center {\n    text-align: center !important;\n  }\n  .card-stats .icon-big.icon-danger, .card-stats .icon-big.icon-default, .card-stats .icon-big.icon-info, .card-stats .icon-big.icon-primary, .card-stats .icon-big.icon-secondary, .card-stats .icon-big.icon-success, .card-stats .icon-big.icon-warning {\n    border-radius: 5px;\n}\n.card-stats .icon-big.icon-danger i, .card-stats .icon-big.icon-default i, .card-stats .icon-big.icon-info i, .card-stats .icon-big.icon-primary i, .card-stats .icon-big.icon-secondary i, .card-stats .icon-big.icon-success i, .card-stats .icon-big.icon-warning i {\n  color: #fff!important;\n}\n  .pb-3,\n  .py-3 {\n    padding-bottom: 1rem !important;\n  }\n  .pt-3,\n  .py-3 {\n    padding-top: 1rem !important;\n  }\n  .d-inline-block {\n    display: inline-block !important;\n  }\n  .pl-3, .px-3 {\n    padding-left: 1rem !important;\n  }\n  .card-stats .icon-big {\n    width: 100%;\n    height: 100%;\n    font-size: 2.2em;\n    min-height: 64px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  \n  }\n  .bubble-shadow-small {\n  position: relative; \n  }\n\n  .card-title {\n    margin: 0;\n    color: #575962;\n    font-size: 18px;\n    font-weight: 400;\n    line-height: 1.6;\n  }\n  .card-stats .icon-big.icon-primary {\n    background: #177dff;\n  .mt-3,\n  .my-3 {\n    margin-top: 1rem !important;\n  }\n  "])));i.Z=s},61567:function(e,i,n){n(47313);var t=n(46417);i.Z=function(){return(0,t.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,t.jsx)("div",{className:"spinner-border text-primary"})})}},75352:function(e,i,n){var t,o=n(30168),s=n(38269).ZP.h1(t||(t=(0,o.Z)(["\n  margin-bottom: 24px;\n"])));i.Z=s}}]);