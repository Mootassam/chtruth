"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[1873],{61567:function(e,t,i){i(47313);var a=i(46417);t.Z=function(){return(0,a.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,a.jsx)("div",{className:"spinner-border text-primary"})})}},31873:function(e,t,i){i.r(t),i.d(t,{default:function(){return k}});var a=i(70885),n=i(47313),s=i(45788),r=i(63830),l=i(10499),d=i(40736),o=i(76747),c=function(e){return e.vip.form},u=(0,o.P1)([c],(function(e){return e.record})),m={selectInitLoading:(0,o.P1)([c],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,o.P1)([c],(function(e){return Boolean(e.saveLoading)})),selectRecord:u,selectRaw:c},w=i(46356),f=i(1413),g=i(43270),h=i(89994),p=i(95748),v=i(68160),x=i(3463),b=i(67357),j=i(47575),Z=i(68031),N=i(5544),y=i(46417),A=x.Ry().shape({orderNo:h.Z.string((0,l.ag)("entities.withdraw.fields.orderNo"),{required:!0}),currency:h.Z.string((0,l.ag)("entities.withdraw.fields.currency"),{required:!0}),withdrawAmount:h.Z.decimal((0,l.ag)("entities.withdraw.fields.withdrawAmount"),{required:!0}),fee:h.Z.decimal((0,l.ag)("entities.withdraw.fields.fee"),{required:!0}),totalAmount:h.Z.decimal((0,l.ag)("entities.withdraw.fields.totalAmount"),{required:!0}),auditor:h.Z.relationToOne((0,l.ag)("entities.withdraw.fields.auditor")),acceptTime:h.Z.datetime((0,l.ag)("entities.withdraw.fields.acceptTime")),status:h.Z.enumerator((0,l.ag)("entities.withdraw.fields.status"),{options:["pending","canceled","success"]})});var C=function(e){var t=(0,n.useState)((function(){var t=e.record||{};return{orderNo:t.orderNo,currency:t.currency,withdrawAmount:t.withdrawAmount,fee:t.fee,totalAmount:t.totalAmount,auditor:t.auditor||null,acceptTime:t.acceptTime,status:t.status||"pending"}})),i=(0,a.Z)(t,1)[0],s=(0,g.cI)({resolver:(0,b.X)(A),mode:"all",defaultValues:i}),r=function(t){var i;e.onSubmit(null===(i=e.record)||void 0===i?void 0:i.id,t)};return(0,y.jsx)(v.Z,{children:(0,y.jsx)(g.RV,(0,f.Z)((0,f.Z)({},s),{},{children:(0,y.jsxs)("form",{onSubmit:s.handleSubmit(r),children:[(0,y.jsxs)("div",{className:"row g-3",children:[(0,y.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,y.jsx)(j.Z,{name:"orderNo",label:(0,l.ag)("entities.withdraw.fields.orderNo"),required:!0})}),(0,y.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,y.jsx)(j.Z,{name:"currency",label:(0,l.ag)("entities.withdraw.fields.currency"),required:!0})}),(0,y.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,y.jsx)(j.Z,{name:"withdrawAmount",label:(0,l.ag)("entities.withdraw.fields.withdrawAmount"),required:!0,type:"number"})}),(0,y.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,y.jsx)(j.Z,{name:"fee",label:(0,l.ag)("entities.withdraw.fields.fee"),required:!0,type:"number"})}),(0,y.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,y.jsx)(j.Z,{name:"totalAmount",label:(0,l.ag)("entities.withdraw.fields.totalAmount"),required:!0,type:"number"})}),(0,y.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,y.jsx)(Z.Z,{name:"auditor",label:(0,l.ag)("entities.withdraw.fields.auditor")})}),(0,y.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,y.jsx)(j.Z,{name:"acceptTime",label:(0,l.ag)("entities.withdraw.fields.acceptTime"),type:"datetime-local"})}),(0,y.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:(0,y.jsx)(N.Z,{name:"status",label:(0,l.ag)("entities.withdraw.fields.status"),options:[{value:"pending",label:(0,l.ag)("entities.withdraw.enumerators.status.pending")},{value:"canceled",label:(0,l.ag)("entities.withdraw.enumerators.status.canceled")},{value:"success",label:(0,l.ag)("entities.withdraw.enumerators.status.success")}],required:!0})})]}),(0,y.jsxs)("div",{className:"form-buttons d-flex flex-wrap gap-2 mt-3",children:[(0,y.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:s.handleSubmit(r),children:[(0,y.jsx)(p.Z,{loading:e.saveLoading,iconClass:"far fa-save"}),"\xa0",(0,l.ag)("common.save")]}),(0,y.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(i).forEach((function(e){return s.setValue(e,i[e])}))},children:[(0,y.jsx)("i",{className:"fas fa-undo"}),"\xa0",(0,l.ag)("common.reset")]}),e.onCancel&&(0,y.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:e.onCancel,children:[(0,y.jsx)("i",{className:"fas fa-times"}),"\xa0",(0,l.ag)("common.cancel")]})]})]})}))})},L=i(27829),q=i(61567),S=i(75352);var k=function(e){var t=(0,n.useState)(!1),i=(0,a.Z)(t,2),o=i[0],c=i[1],u=(0,s.I0)(),f=(0,r.$B)(),g=(0,s.v9)(m.selectInitLoading),h=(0,s.v9)(m.selectSaveLoading),p=(0,s.v9)(m.selectRecord),v=Boolean(f.params.id),x=v?(0,l.ag)("entities.withdraw.edit.title"):(0,l.ag)("entities.withdraw.new.title");return(0,n.useEffect)((function(){u(d.Z.doInit(f.params.id)),c(!0)}),[u,f.params.id]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(L.Z,{children:[(0,y.jsx)(S.Z,{children:x}),g&&(0,y.jsx)(q.Z,{}),o&&!g&&(0,y.jsx)(C,{saveLoading:h,initLoading:g,record:p,isEditing:v,onSubmit:function(e,t){u(v?d.Z.doUpdate(e,t):d.Z.doCreate(t))},onCancel:function(){return(0,w.s1)().push("/withdraw")}})]})})}}}]);