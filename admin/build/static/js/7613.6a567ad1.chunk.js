"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[7613],{57613:function(e,t,i){i.r(t),i.d(t,{default:function(){return B}});var n=i(70885),a=i(47313),s=i(45788),o=i(63830),r=i(10499),l=i(38388),d=i(76747),c=function(e){return e.vip.form},u=(0,d.P1)([c],(function(e){return e.record})),m={selectInitLoading:(0,d.P1)([c],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,d.P1)([c],(function(e){return Boolean(e.saveLoading)})),selectRecord:u,selectRaw:c},g=i(46356),p=i(1413),f=i(43270),h=i(89994),x=i(95748),v=i(68160),j=i(3463),b=i(67357),Z=i(47575),N=i(68031),y=i(25289),C=i(5544),L=i(46417),q=j.Ry().shape({orderno:h.Z.string((0,r.ag)("entities.deposit.fields.orderno"),{required:!0}),amount:h.Z.decimal((0,r.ag)("entities.deposit.fields.amount"),{required:!0}),txid:h.Z.string((0,r.ag)("entities.deposit.fields.txid"),{required:!0}),rechargechannel:h.Z.string((0,r.ag)("entities.deposit.fields.rechargechannel"),{required:!0}),rechargetime:h.Z.datetime((0,r.ag)("entities.deposit.fields.rechargetime"),{required:!0}),auditor:h.Z.relationToOne((0,r.ag)("entities.deposit.fields.auditor"),{}),acceptime:h.Z.datetime((0,r.ag)("entities.deposit.fields.acceptime"),{}),status:h.Z.enumerator((0,r.ag)("entities.deposit.fields.status"),{options:y.Z.status})});var S=function(e){var t=(0,a.useState)((function(){var t=e.record||{};return{orderno:t.orderno||"",amount:t.amount,txid:t.txid||"",rechargechannel:t.rechargechannel||"",rechargetime:t.rechargetime,auditor:t.auditor||null,acceptime:t.acceptime,status:t.status||"pending"}})),i=(0,n.Z)(t,1)[0],s=(0,f.cI)({resolver:(0,b.X)(q),mode:"all",defaultValues:i}),o=function(t){var i;e.onSubmit(null===(i=e.record)||void 0===i?void 0:i.id,t)};return(0,L.jsx)(v.Z,{children:(0,L.jsx)(f.RV,(0,p.Z)((0,p.Z)({},s),{},{children:(0,L.jsxs)("form",{onSubmit:s.handleSubmit(o),children:[(0,L.jsxs)("div",{className:"row",children:[(0,L.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,L.jsx)(Z.Z,{name:"orderno",label:(0,r.ag)("entities.deposit.fields.orderno"),required:!0})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,L.jsx)(Z.Z,{name:"amount",label:(0,r.ag)("entities.deposit.fields.amount"),required:!0,type:"number"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,L.jsx)(Z.Z,{name:"txid",label:(0,r.ag)("entities.deposit.fields.txid"),required:!0})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,L.jsx)(Z.Z,{name:"rechargechannel",label:(0,r.ag)("entities.deposit.fields.rechargechannel"),required:!0})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,L.jsx)(Z.Z,{name:"rechargetime",label:(0,r.ag)("entities.deposit.fields.rechargetime"),required:!0,type:"datetime-local"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,L.jsx)(N.Z,{name:"auditor",label:(0,r.ag)("entities.deposit.fields.auditor")})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,L.jsx)(Z.Z,{name:"acceptime",label:(0,r.ag)("entities.deposit.fields.acceptime"),type:"datetime-local"})}),(0,L.jsx)("div",{className:"col-lg-6 col-md-8 col-12",children:(0,L.jsx)(C.Z,{name:"status",label:(0,r.ag)("entities.deposit.fields.status"),options:y.Z.status.map((function(e){return{value:e,label:(0,r.ag)("entities.transaction.enumerators.status.".concat(e))}})),required:!0})})]}),(0,L.jsxs)("div",{className:"form-buttons",children:[(0,L.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:s.handleSubmit(o),children:[(0,L.jsx)(x.Z,{loading:e.saveLoading,iconClass:"far fa-save"}),"\xa0",(0,r.ag)("common.save")]}),(0,L.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(i).forEach((function(e){s.setValue(e,i[e])}))},children:[(0,L.jsx)("i",{className:"fas fa-undo"}),"\xa0",(0,r.ag)("common.reset")]}),e.onCancel?(0,L.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[(0,L.jsx)("i",{className:"fas fa-times"}),"\xa0",(0,r.ag)("common.cancel")]}):null]})]})}))})},k=i(27829),w=i(61567),I=i(75352);var B=function(e){var t=(0,a.useState)(!1),i=(0,n.Z)(t,2),d=i[0],c=i[1],u=(0,s.I0)(),p=(0,o.$B)(),f=(0,s.v9)(m.selectInitLoading),h=(0,s.v9)(m.selectSaveLoading),x=(0,s.v9)(m.selectRecord),v=Boolean(p.params.id),j=v?(0,r.ag)("entities.deposit.edit.title"):(0,r.ag)("entities.deposit.new.title");return(0,a.useEffect)((function(){u(l.Z.doInit(p.params.id)),c(!0)}),[u,p.params.id]),(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(k.Z,{children:[(0,L.jsx)(I.Z,{children:j}),f&&(0,L.jsx)(w.Z,{}),d&&!f&&(0,L.jsx)(S,{saveLoading:h,initLoading:f,record:x,isEditing:v,onSubmit:function(e,t){u(v?l.Z.doUpdate(e,t):l.Z.doCreate(t))},onCancel:function(){return(0,g.s1)().push("/Deposit")}})]})})}},61567:function(e,t,i){i(47313);var n=i(46417);t.Z=function(){return(0,n.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,n.jsx)("div",{className:"spinner-border text-primary"})})}}}]);