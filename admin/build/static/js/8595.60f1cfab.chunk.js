"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[8595],{4370:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var i=t(70885),o=t(47313),a=t(45788),r=t(63830),s=t(10499),l=t(60612),c=t(76747),d=function(e){return e.category.form},u=(0,c.P1)([d],(function(e){return e.record})),g={selectInitLoading:(0,c.P1)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:(0,c.P1)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:u,selectRaw:d},m=t(72803),p=t(1413),f=t(43270),b=t(89994),h=t(95748),v=t(68160),y=t(3463),x=t(67357),Z=t(47575),j=t(5544),B=t(83851),C=t(96111),w=t(85543),N=t(46417),S=y.Ry().shape({name:b.Z.string((0,s.ag)("entities.category.fields.name"),{}),slug:b.Z.string((0,s.ag)("entities.category.fields.slug"),{}),photo:b.Z.images((0,s.ag)("entities.category.fields.photo"),{}),metaKeywords:b.Z.string((0,s.ag)("entities.category.fields.metaKeywords"),{}),metaDescriptions:b.Z.string((0,s.ag)("entities.category.fields.metaDescriptions"),{}),status:b.Z.enumerator((0,s.ag)("entities.category.fields.status"),{options:B.Z.status}),isFeature:b.Z.boolean((0,s.ag)("entities.category.fields.isFeature"),{}),serial:b.Z.integer((0,s.ag)("entities.category.fields.serial"),{})});var k=function(e){var n=(0,o.useState)((function(){var n=e.record||{};return{name:n.name,number:n.number,type:n.type,slug:n.slug,photo:n.photo||[],metaKeywords:n.metaKeywords,metaDescriptions:n.metaDescriptions,status:n.status,isFeature:n.isFeature,serial:n.serial}})),t=(0,i.Z)(n,1)[0],a=(0,f.cI)({resolver:(0,x.X)(S),mode:"all",defaultValues:t}),r=function(n){var t;e.onSubmit(null===(t=e.record)||void 0===t?void 0:t.id,n)};return(0,N.jsx)(v.Z,{children:(0,N.jsx)(f.RV,(0,p.Z)((0,p.Z)({},a),{},{children:(0,N.jsxs)("form",{onSubmit:a.handleSubmit(r),children:[(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(j.Z,{name:"type",label:(0,s.ag)("entities.category.fields.type"),options:B.Z.type.map((function(e){return{value:e,label:(0,s.ag)("entities.category.enumerators.type.".concat(e))}})),required:!1})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(w.Z,{name:"photo",label:(0,s.ag)("entities.category.fields.photo"),required:!1,storage:C.Z.values.categoryPhoto,max:void 0})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(Z.Z,{name:"name",label:(0,s.ag)("entities.category.fields.name"),required:!1,autoFocus:!0})}),(0,N.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:(0,N.jsx)(Z.Z,{name:"number",label:(0,s.ag)("entities.category.fields.slug"),required:!1})})]}),(0,N.jsxs)("div",{className:"form-buttons",children:[(0,N.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:a.handleSubmit(r),children:[(0,N.jsx)(h.Z,{loading:e.saveLoading,iconClass:"far fa-save"}),"\xa0",(0,s.ag)("common.save")]}),(0,N.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(t).forEach((function(e){a.setValue(e,t[e])}))},children:[(0,N.jsx)("i",{className:"fas fa-undo"}),"\xa0",(0,s.ag)("common.reset")]}),e.onCancel?(0,N.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[(0,N.jsx)("i",{className:"fas fa-times"}),"\xa0",(0,s.ag)("common.cancel")]}):null]})]})}))})},M=t(27829),L=t(61567),P=t(75352);var E=function(e){var n=(0,o.useState)(!1),t=(0,i.Z)(n,2),c=t[0],d=t[1],u=(0,a.I0)(),p=(0,r.$B)(),f=(0,a.v9)(g.selectInitLoading),b=(0,a.v9)(g.selectSaveLoading),h=(0,a.v9)(g.selectRecord),v=Boolean(p.params.id),y=v?(0,s.ag)("entities.category.edit.title"):(0,s.ag)("entities.category.new.title");return(0,o.useEffect)((function(){u(l.Z.doInit(p.params.id)),d(!0)}),[u,p.params.id]),(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(M.Z,{children:[(0,N.jsx)(P.Z,{children:y}),f&&(0,N.jsx)(L.Z,{}),c&&!f&&(0,N.jsx)(k,{saveLoading:b,initLoading:f,record:h,isEditing:v,onSubmit:function(e,n){u(v?l.Z.doUpdate(e,n):l.Z.doCreate(n))},onCancel:function(){return(0,m.s1)().push("/category")}})]})})}},27829:function(e,n,t){var i,o=t(30168),a=t(38269).ZP.div(i||(i=(0,o.Z)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n  .card-stats .card-body {\n    padding: 15px !important;\n  }\n  .text-center {\n    text-align: center !important;\n  }\n  .card-stats .icon-big.icon-danger, .card-stats .icon-big.icon-default, .card-stats .icon-big.icon-info, .card-stats .icon-big.icon-primary, .card-stats .icon-big.icon-secondary, .card-stats .icon-big.icon-success, .card-stats .icon-big.icon-warning {\n    border-radius: 5px;\n}\n.card-stats .icon-big.icon-danger i, .card-stats .icon-big.icon-default i, .card-stats .icon-big.icon-info i, .card-stats .icon-big.icon-primary i, .card-stats .icon-big.icon-secondary i, .card-stats .icon-big.icon-success i, .card-stats .icon-big.icon-warning i {\n  color: #fff!important;\n}\n  .pb-3,\n  .py-3 {\n    padding-bottom: 1rem !important;\n  }\n  .pt-3,\n  .py-3 {\n    padding-top: 1rem !important;\n  }\n  .d-inline-block {\n    display: inline-block !important;\n  }\n  .pl-3, .px-3 {\n    padding-left: 1rem !important;\n  }\n  .card-stats .icon-big {\n    width: 100%;\n    height: 100%;\n    font-size: 2.2em;\n    min-height: 64px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  \n  }\n  .bubble-shadow-small {\n  position: relative; \n  }\n\n  .card-title {\n    margin: 0;\n    color: #575962;\n    font-size: 18px;\n    font-weight: 400;\n    line-height: 1.6;\n  }\n  .card-stats .icon-big.icon-primary {\n    background: #177dff;\n  .mt-3,\n  .my-3 {\n    margin-top: 1rem !important;\n  }\n  "])));n.Z=a},61567:function(e,n,t){t(47313);var i=t(46417);n.Z=function(){return(0,i.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,i.jsx)("div",{className:"spinner-border text-primary"})})}},47575:function(e,n,t){t(47313);var i=t(43270),o=t(49384),a=t(46417);function r(e){var n=e.label,t=e.description,r=e.name,s=e.hint,l=e.type,c=e.placeholder,d=e.autoFocus,u=e.autoComplete,g=e.required,m=e.externalErrorMessage,p=e.disabled,f=e.endAdornment,b=(0,i.Gc)(),h=b.register,v=b.errors,y=b.formState,x=y.touched,Z=y.isSubmitted,j=o.Z.errorMessage(r,v,x,Z,m);return(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsxs)("div",{className:f?"input-group":"",children:[Boolean(n)&&(0,a.jsx)("label",{className:"col-form-label ".concat(g?"required":null),htmlFor:r,children:n}),t,(0,a.jsx)("input",{id:r,name:r,type:l,ref:h,onChange:function(n){e.onChange&&e.onChange(n.target.value)},onBlur:function(n){e.onBlur&&e.onBlur(n)},placeholder:c||void 0,autoFocus:d||void 0,autoComplete:u||void 0,disabled:p,className:"form-control ".concat(j?"is-invalid":"")}),f&&(0,a.jsx)("div",{className:"input-group-append",children:(0,a.jsx)("span",{className:"input-group-text",children:f})})]}),(0,a.jsx)("div",{className:"invalid-feedback",children:j}),Boolean(s)&&(0,a.jsx)("small",{className:"form-text text-muted",children:s})]})}r.defaultProps={type:"text",required:!1},n.Z=r},5544:function(e,n,t){var i=t(1413),o=t(47313),a=t(73622),r=t(10499),s=t(43270),l=t(49384),c=t(46417);function d(e){var n=e.label,t=e.name,d=e.hint,u=e.options,g=e.required,m=e.mode,p=e.placeholder,f=e.isClearable,b=e.externalErrorMessage,h=(0,s.Gc)(),v=h.register,y=h.errors,x=h.formState,Z=x.touched,j=x.isSubmitted,B=h.setValue,C=h.watch,w=l.Z.errorMessage(t,y,Z,j,b),N=C(t);(0,o.useEffect)((function(){v({name:t})}),[v,t]);var S=function(){return N?N.map((function(e){return u.find((function(n){return n.value===e}))})):[]},k=function(){var n=e.options;return null!=N?n.find((function(e){return e.value===N})):null},M=function(n){if(!n)return B(t,[],{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange([]));var i=n.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));B(t,i,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(i)},L=function(n){if(!n)return B(t,null,{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange(null));B(t,n.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n.value)},P=Boolean(w)?{container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"hsl(0,0%,20%)"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{borderColor:"red"})}}:{container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"hsl(0,0%,20%)"})}};return(0,c.jsxs)("div",{className:"form-group",children:[Boolean(n)&&(0,c.jsx)("label",{className:"col-form-label ".concat(g?"required":null),children:n}),(0,c.jsx)("br",{}),(0,c.jsx)(a.ZP,{className:"w-100",value:"multiple"===e.mode?S():k(),onChange:function(n){return"multiple"===e.mode?M(n):L(n)},onBlur:function(n){e.onBlur&&e.onBlur(n)},id:t,name:t,options:u,isMulti:"multiple"===m,placeholder:p||"",isClearable:f,styles:P,loadingMessage:function(){return(0,r.ag)("autocomplete.loading")},noOptionsMessage:function(){return(0,r.ag)("autocomplete.noOptions")}}),(0,c.jsx)("div",{className:"invalid-feedback",children:w}),Boolean(d)&&(0,c.jsx)("small",{className:"form-text text-muted",children:d})]})}d.defaultProps={required:!1,isClearable:!0},n.Z=d},75352:function(e,n,t){var i,o=t(30168),a=t(38269).ZP.h1(i||(i=(0,o.Z)(["\n  margin-bottom: 24px;\n"])));n.Z=a},99811:function(e,n,t){!function(n){var t=/^(b|B)$/,i={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},o={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function a(e){var n,a,r,s,l,c,d,u,g,m,p,f,b,h,v,y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},x=[],Z=0,j=void 0,B=void 0;if(isNaN(e))throw new TypeError("Invalid number");return a=!0===y.bits,p=!0===y.unix,n=y.base||2,m=void 0!==y.round?y.round:p?1:2,c=void 0!==y.locale?y.locale:"",d=y.localeOptions||{},f=void 0!==y.separator?y.separator:"",b=void 0!==y.spacer?y.spacer:p?"":" ",v=y.symbols||{},h=2===n&&y.standard||"jedec",g=y.output||"string",s=!0===y.fullform,l=y.fullforms instanceof Array?y.fullforms:[],j=void 0!==y.exponent?y.exponent:-1,r=2<n?1e3:1024,(u=(B=Number(e))<0)&&(B=-B),(-1===j||isNaN(j))&&(j=Math.floor(Math.log(B)/Math.log(r)))<0&&(j=0),8<j&&(j=8),"exponent"===g?j:(0===B?(x[0]=0,x[1]=p?"":i[h][a?"bits":"bytes"][j]):(Z=B/(2===n?Math.pow(2,10*j):Math.pow(1e3,j)),a&&r<=(Z*=8)&&j<8&&(Z/=r,j++),x[0]=Number(Z.toFixed(0<j?m:0)),x[0]===r&&j<8&&void 0===y.exponent&&(x[0]=1,j++),x[1]=10===n&&1===j?a?"kb":"kB":i[h][a?"bits":"bytes"][j],p&&(x[1]="jedec"===h?x[1].charAt(0):0<j?x[1].replace(/B$/,""):x[1],t.test(x[1])&&(x[0]=Math.floor(x[0]),x[1]=""))),u&&(x[0]=-x[0]),x[1]=v[x[1]]||x[1],!0===c?x[0]=x[0].toLocaleString():0<c.length?x[0]=x[0].toLocaleString(c,d):0<f.length&&(x[0]=x[0].toString().replace(".",f)),"array"===g?x:(s&&(x[1]=l[j]?l[j]:o[h][j]+(a?"bit":"byte")+(1===x[0]?"":"s")),"object"===g?{value:x[0],symbol:x[1],exponent:j}:x.join(b)))}a.partial=function(e){return function(n){return a(n,e)}},e.exports=a}("undefined"!=typeof window?window:t.g)},73622:function(e,n,t){t(47313),t(83235),t(1168);var i=t(85732),o=(t(96312),t(71902),t(87201));t(94297);var a=(0,o.m)(i.S);n.ZP=a},95162:function(e,n,t){var i;t.d(n,{Z:function(){return u}});var o=new Uint8Array(16);function a(){if(!i&&!(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&r.test(e)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(l[e[n+0]]+l[e[n+1]]+l[e[n+2]]+l[e[n+3]]+"-"+l[e[n+4]]+l[e[n+5]]+"-"+l[e[n+6]]+l[e[n+7]]+"-"+l[e[n+8]]+l[e[n+9]]+"-"+l[e[n+10]]+l[e[n+11]]+l[e[n+12]]+l[e[n+13]]+l[e[n+14]]+l[e[n+15]]).toLowerCase();if(!s(t))throw TypeError("Stringified UUID is invalid");return t};var u=function(e,n,t){var i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){t=t||0;for(var o=0;o<16;++o)n[t+o]=i[o];return n}return d(i)}}}]);