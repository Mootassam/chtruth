"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[7863],{7863:function(e,s,a){a.r(s),a.d(s,{default:function(){return M}});var l=a(47313),n=a(10499),c=a(27829),t=a(75352),i=a(1413),r=a(70885),o=a(43270),d=a(45788),u=a(47590),m=a(36172),h=a(23377),x=a(63442),f=a(95748),j=a(47575),g=a(5544),Z=a(69138),v=a(3463),N=a(67357),b=a(13586),p=a(40846),k=a(46417),C=v.Ry().shape({fullName:u.Z.string((0,n.ag)("user.fields.fullName")),email:u.Z.email((0,n.ag)("user.fields.email")),role:u.Z.enumerator((0,n.ag)("user.fields.role")),mobile:u.Z.integer((0,n.ag)("Mobile")),secteur:u.Z.enumerator((0,n.ag)("Secteur")),employeur:u.Z.string((0,n.ag)("Employeur")),profession:u.Z.string((0,n.ag)("Profession")),adresse:u.Z.string((0,n.ag)("Adresse")),cin:u.Z.integer((0,n.ag)("C.I.N")),date_naissance:u.Z.dateRange((0,n.ag)("date Naissance")),etat_civil:u.Z.enumerator((0,n.ag)("Etat Civil")),status:u.Z.enumerator((0,n.ag)("Status")),lien_facebook:u.Z.string((0,n.ag)("Lien Facebook")),parrain:u.Z.enumerator((0,n.ag)("Parrain"))}),w={fullName:null,email:null,role:null,status:null},y={fullName:{label:(0,n.ag)("user.fields.fullName"),render:p.Z.generic()},email:{label:(0,n.ag)("user.fields.email"),render:p.Z.generic()},role:{label:(0,n.ag)("user.fields.role"),render:function(e){return e?(0,n.ag)("roles.".concat(e,".label")):null}},invitationcode:{label:(0,n.ag)("user.fields.invitationcode"),render:p.Z.generic()},status:{label:(0,n.ag)("user.fields.status"),render:p.Z.enumerator("user.status")}};var S=function(e){var s=(0,d.v9)(h.Z.selectRawFilter),a=(0,d.I0)(),c=(0,l.useState)(!1),t=(0,r.Z)(c,2),u=t[0],v=t[1],p=(0,l.useState)((function(){return(0,i.Z)((0,i.Z)({},w),s)})),S=(0,r.Z)(p,1)[0],_=(0,o.cI)({resolver:(0,N.X)(C),defaultValues:S,mode:"all"});(0,l.useEffect)((function(){a(m.Z.doFetchClients(C.cast(S),s))}),[a]);var P=function(e){var s=_.getValues();a(m.Z.doFetchClients(e,s)),v(!1)},R=e.loading;return(0,k.jsxs)(Z.Z,{children:[(0,k.jsx)(b.Z,{onClick:function(){v(!u)},renders:y,values:s,expanded:u,onRemove:function(e){return _.setValue(e,w[e]),_.handleSubmit(P)()}}),(0,k.jsx)("div",{className:"container",children:(0,k.jsx)("div",{className:"collapse ".concat(u?"show":""),children:(0,k.jsx)(o.RV,(0,i.Z)((0,i.Z)({},_),{},{children:(0,k.jsxs)("form",{onSubmit:_.handleSubmit(P),children:[(0,k.jsxs)("div",{className:"row",children:[(0,k.jsx)("div",{className:"col-lg-4 col-12",children:(0,k.jsx)(j.Z,{name:"email",label:(0,n.ag)("user.fields.email")})}),(0,k.jsx)("div",{className:"col-lg-4 col-12",children:(0,k.jsx)(j.Z,{name:"fullName",label:(0,n.ag)("user.fields.fullName")})}),(0,k.jsx)("div",{className:"col-lg-4 col-12",children:(0,k.jsx)(j.Z,{name:"invitationcode",label:(0,n.ag)("user.fields.invitationcode")})}),(0,k.jsx)("div",{className:"col-lg-6 col-12",children:(0,k.jsx)(g.Z,{name:"status",label:(0,n.ag)("user.fields.status"),options:x.Z.status.map((function(e){return{value:e,label:(0,n.ag)("user.status.".concat(e))}}))})}),(0,k.jsx)("div",{className:"col-lg-6 col-12",children:(0,k.jsx)(g.Z,{name:"role",label:(0,n.ag)("user.fields.role"),options:x.Z.roles.map((function(e){return{value:e,label:(0,n.ag)("roles.".concat(e,".label"))}}))})})]}),(0,k.jsx)("div",{className:"row",children:(0,k.jsxs)("div",{className:"col-12 filter-buttons",children:[(0,k.jsxs)("button",{className:"btn btn-primary",type:"submit",disabled:R,children:[(0,k.jsx)(f.Z,{loading:R,iconClass:"fas fa-search"}),(0,n.ag)("common.search")]}),(0,k.jsxs)("button",{className:"btn btn-light",type:"button",onClick:function(){Object.keys(w).forEach((function(e){_.setValue(e,w[e])})),a(m.Z.doReset()),v(!1)},disabled:R,children:[(0,k.jsx)(f.Z,{loading:R,iconClass:"fas fa-undo"}),(0,n.ag)("common.reset")]})]})})]})}))})})]})},_=a(74165),P=a(15861),R=a(15021),T=a(28303),L=a(97249),E=a(61567),I=a(44587),F=a(93488),A=a(78589),V=a(74773);var D=function(){var e=(0,d.I0)(),s=(0,l.useState)(null),a=(0,r.Z)(s,2),c=a[0],t=a[1],i=(0,l.useState)(""),o=(0,r.Z)(i,2),u=o[0],x=(o[1],(0,d.v9)(A.Z.selectCountRecord)),f=(0,d.v9)(A.Z.selectLoading),j=(0,d.v9)(h.Z.selectLoading),g=(0,d.v9)(h.Z.selectRows),Z=(0,d.v9)(h.Z.selectPagination),v=(0,d.v9)(h.Z.selectSelectedKeys),N=(0,l.useState)(!1),b=(0,r.Z)(N,2),p=b[0],C=b[1],w=(0,d.v9)(h.Z.selectHasRows),y=(0,d.v9)(h.Z.selectSorter),S=(0,l.useState)(0),D=(0,r.Z)(S,2),O=D[0],H=(D[1],(0,d.v9)(h.Z.selectIsAllSelected)),K=(0,d.v9)(R.Z.selectPermissionToEdit),U=((0,d.v9)(R.Z.selectPermissionToDestroy),function(s){var a=y.field===s&&"ascend"===y.order?"descend":"ascend";e(m.Z.doChangeSort({field:s,order:a}))});(0,l.useEffect)((function(){}),[e,x]);var z=function(){var e=(0,P.Z)((0,_.Z)().mark((function e(s){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.Z.doOneClickLogin(s);case 2:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"spot-list-container",children:[(0,k.jsx)("div",{className:"table-responsive",children:(0,k.jsxs)("table",{className:"spot-list-table",children:[(0,k.jsx)("thead",{className:"table-header",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"checkbox-column",children:w&&(0,k.jsx)("div",{className:"checkbox-wrapper",children:(0,k.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:Boolean(H),onChange:function(){e(m.Z.doToggleAllSelected())}})})}),(0,k.jsxs)("th",{className:"sortable-header",onClick:function(){return U("email")},children:[(0,n.ag)("user.fields.email"),"email"===y.field&&(0,k.jsx)("span",{className:"sort-icon",children:"ascend"===y.order?"\u2191":"\u2193"})]}),(0,k.jsxs)("th",{className:"sortable-header",onClick:function(){return U("fullName")},children:[(0,n.ag)("user.fields.fullName"),"fullName"===y.field&&(0,k.jsx)("span",{className:"sort-icon",children:"ascend"===y.order?"\u2191":"\u2193"})]}),(0,k.jsxs)("th",{className:"sortable-header",onClick:function(){return U("invitationcode")},children:[(0,n.ag)("user.fields.invitationcode"),"invitationcode"===y.field&&(0,k.jsx)("span",{className:"sort-icon",children:"ascend"===y.order?"\u2191":"\u2193"})]}),(0,k.jsxs)("th",{className:"sortable-header",onClick:function(){return U("refcode")},children:[(0,n.ag)("user.fields.refcode"),"refcode"===y.field&&(0,k.jsx)("span",{className:"sort-icon",children:"ascend"===y.order?"\u2191":"\u2193"})]}),(0,k.jsx)("th",{children:"Location"}),(0,k.jsx)("th",{className:"sortable-header",children:(0,n.ag)("user.fields.withdrawPassword")}),(0,k.jsx)("th",{className:"sortable-header",children:(0,n.ag)("user.fields.status")}),(0,k.jsx)("th",{className:"actions-header",children:"Actions"})]})}),(0,k.jsxs)("tbody",{className:"table-body",children:[j&&(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:8,className:"loading-cell",children:(0,k.jsxs)("div",{className:"loading-container",children:[(0,k.jsx)(E.Z,{}),(0,k.jsx)("span",{className:"loading-text",children:"Loading data..."})]})})}),!j&&!w&&(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:8,className:"no-data-cell",children:(0,k.jsxs)("div",{className:"no-data-content",children:[(0,k.jsx)("i",{className:"fas fa-database no-data-icon"}),(0,k.jsx)("p",{children:(0,n.ag)("table.noData")})]})})}),!j&&g.map((function(s){return(0,k.jsxs)("tr",{className:"table-row",children:[(0,k.jsx)("td",{className:"checkbox-column",children:(0,k.jsx)("div",{className:"checkbox-wrapper",children:(0,k.jsx)("input",{type:"checkbox",className:"form-checkbox",checked:v.includes(s.id),onChange:function(){return a=s.id,void e(m.Z.doToggleOneSelected(a));var a}})})}),(0,k.jsx)("td",{className:"table-cell",children:s.email}),(0,k.jsx)("td",{className:"table-cell",children:s.fullName}),(0,k.jsx)("td",{className:"table-cell",children:s.invitationcode}),(0,k.jsx)("td",{className:"table-cell",children:s.refcode}),(0,k.jsxs)("td",{children:[" ",s.ipAddress," ",(0,k.jsx)("br",{})," ",s.country," "]}),(0,k.jsx)("td",{className:"table-cell",children:s.withdrawPassword}),(0,k.jsx)("td",{className:"table-cell",children:(0,k.jsx)(F.Z,{value:s.status})}),(0,k.jsx)("td",{className:"actions-cell",children:(0,k.jsxs)("div",{className:"actions-container",children:[(0,k.jsxs)("button",{className:"btn-action view",onClick:function(){return z(s.id)},children:[(0,k.jsx)("i",{className:"fas fa-eye"}),(0,k.jsx)("span",{children:(0,n.ag)("common.onclicklogin")})]}),(0,k.jsx)(T.rU,{className:"btn btn-link",to:"/password-reset/".concat(s.id),children:(0,k.jsx)("i",{className:"fas fa-key"})}),K&&(0,k.jsx)(T.rU,{className:"btn btn-link",to:"/user/".concat(s.id,"/edit"),children:(0,k.jsx)("i",{className:"fas fa-edit"})}),(0,k.jsxs)("button",{className:"btn-action delete",onClick:function(){return t(s.id)},children:[(0,k.jsx)("i",{className:"fas fa-lock"}),(0,k.jsx)("span",{children:(0,n.ag)("common.freeze")})]})]})})]},s.id)}))]})]})}),(0,k.jsx)("div",{className:"pagination-container",children:(0,k.jsx)(L.Z,{onChange:function(s){e(m.Z.doChangePagination(s))},disabled:j,pagination:Z})})]}),c&&(0,k.jsx)(I.Z,{title:(0,n.ag)("common.areYouSure"),onConfirm:function(){return s=c,t(null),void e(m.Z.doDestroy(s));var s},onClose:function(){return t(null)},okText:(0,n.ag)("common.yes"),cancelText:(0,n.ag)("common.no")}),!f&&p&&(0,k.jsxs)("div",{className:"modal__socore",children:[(0,k.jsx)("div",{className:"score__close",onClick:function(){return C(!1)},children:(0,k.jsx)("i",{className:"fa fa-close font"})}),(0,k.jsx)("div",{className:"modal__contentscore",children:(0,k.jsxs)("p",{className:"text__score",children:[O," / ",u]})})]})]})},O=(a(28745),a(23516)),H=a(10419);var K=function(e){return(0,d.I0)(),(0,d.v9)(O.Z.selectPermissionToRead),(0,d.v9)(R.Z.selectPermissionToCreate),(0,d.v9)(R.Z.selectPermissionToImport),(0,d.v9)(R.Z.selectPermissionToDestroy),(0,d.v9)(h.Z.selectHasRows),(0,d.v9)(h.Z.selectExportLoading),(0,d.v9)(h.Z.selectLoading),(0,d.v9)(h.Z.selectSelectedKeys),(0,k.jsx)(H.Z,{})},U=a(22102),z=a(63849),B=a(31616);var M=function(){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(U.Z,{fluid:!0,children:(0,k.jsxs)(z.Z,{children:[(0,k.jsx)(B.Z,{xs:9,children:(0,k.jsx)(t.Z,{children:(0,n.ag)("user.title")})}),(0,k.jsx)(B.Z,{md:"auto",children:(0,k.jsx)(K,{})})]})}),(0,k.jsx)(S,{}),(0,k.jsx)(D,{})]})})}}}]);