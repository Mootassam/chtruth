import{T as t,k as s,a3 as m,u as w,h as c,i as p,j as a,a4 as u}from"./index-aca44342.js";import{S as g}from"./SubHeader-5c07c3ca.js";import{a as o,u as P,y as f,F as h}from"./FormErrors-e10bee31.js";import{F as r}from"./FieldFormItem-4d2ee11f.js";import{u as N}from"./useDispatch-08c05b9c.js";import"./useNotifications-ccc87162.js";const x=t().shape({oldPassword:o.string(s("pages.loginPassword.fields.oldPassword"),{required:!0}),newPassword:o.string(s("pages.loginPassword.fields.newPassword"),{required:!0}),newPasswordConfirmation:o.string(s("pages.loginPassword.fields.newPasswordConfirmation"),{required:!0}).oneOf([m("newPassword"),null],s("pages.loginPassword.validation.mustMatch"))});function F(){const d=N();w(c.selectCurrentUser);const[i]=p.useState(()=>({oldPassword:"",newPassword:"",newPasswordConfirmation:""})),e=P({resolver:f.yupResolver(x),mode:"all",defaultValues:i}),l=n=>{d(u.doChangePassword(n.oldPassword,n.newPassword))};return a.jsxs("div",{className:"container",children:[a.jsx(g,{title:s("pages.loginPassword.title")}),a.jsx(h,{...e,children:a.jsx("form",{onSubmit:e.handleSubmit(l),children:a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"card-title",children:s("pages.loginPassword.cardTitle")}),a.jsx(r,{name:"oldPassword",type:"password",label:s("pages.loginPassword.fields.oldPassword"),className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:s("pages.loginPassword.placeholders.oldPassword")}),a.jsx(r,{name:"newPassword",type:"password",label:s("pages.loginPassword.fields.newPassword"),className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:s("pages.loginPassword.placeholders.newPassword")}),a.jsx(r,{name:"newPasswordConfirmation",type:"password",label:s("pages.loginPassword.fields.newPasswordConfirmation"),className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:s("pages.loginPassword.placeholders.confirmPassword")}),a.jsx("button",{className:"save-button",onClick:e.handleSubmit(l),children:s("pages.loginPassword.buttons.saveChanges")}),a.jsx("p",{className:"warning-message",children:s("pages.loginPassword.warningMessage")})]})})})]})}export{F as default};
