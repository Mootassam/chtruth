import{a9 as Fe,M as we,aa as Ir,ab as De,K as sr,H as ur,a8 as Be,r as f,ac as Tr}from"./index-83554c6f.js";const it={generic(e){return Fe().label(e)},string(e,r){r=r||{};let t=we().transform((s,c)=>c===""?null:s).nullable(!0).trim().label(e);return r.required&&(t=t.required()),(r.min||r.min===0)&&(t=t.min(r.min)),r.max&&(t=t.max(r.max)),r.matches&&(t=t.matches(r.matches)),t},boolean(e,r){return Ir().default(!1).label(e)},relationToOne(e,r){r=r||{};let t=Fe().nullable(!0).label(e).transform((s,c)=>c?c.id:null);return r.required&&(t=t.required()),t},stringArray(e,r){r=r||{};let t=De().compact().ensure().of(we().transform((s,c)=>c===""?null:s).trim()).label(e);return(r.required||r.min)&&(t=t.required()),r.min||r.min===0?t=t.min(r.min):r.required&&(t=t.min(1)),r.max&&(t=t.max(r.max)),t},relationToMany(e,r){r=r||{};let t=De().nullable(!0).label(e).transform((s,c)=>!c||!c.length?[]:c.map(a=>a.id));return(r.required||r.min)&&(t=t.required()),r.min||r.min===0?t=t.min(r.min):r.required&&(t=t.min(1)),r.max&&(t=t.max(r.max)),t},integer(e,r){r=r||{};let t=sr().transform((s,c)=>c===""?null:s).integer().nullable(!0).label(e);return r.required&&(t=t.required()),(r.min||r.min===0)&&(t=t.min(r.min)),r.max&&(t=t.max(r.max)),t},images(e,r){r=r||{};let t=De().nullable(!0).label(e);return(r.required||r.min)&&(t=t.required()),r.min||r.min===0?t=t.min(r.min):r.required&&(t=t.min(1)),r.max&&(t=t.max(r.max)),t},files(e,r){r=r||{};let t=De().compact().ensure().nullable(!0).label(e);return(r.required||r.min)&&(t=t.required()),r.min||r.min===0?t=t.min(r.min):r.required&&(t=t.min(1)),r.max&&(t=t.max(r.max)),t},enumerator(e,r){r=r||{};let t=we().transform((s,c)=>c===""?null:s).label(e).nullable(!0).oneOf([null,...r.options||[]]);return r.required&&(t=t.required(ur("validation.string.selected"))),t},email(e,r){r=r||{};let t=we().transform((s,c)=>c===""?null:s).nullable(!0).trim().label(e).email();return r.required&&(t=t.required()),(r.min||r.min===0)&&(t=t.min(r.min)),r.max&&(t=t.max(r.max)),r.matches&&(t=t.matches(r.matches)),t},decimal(e,r){r=r||{};let t=sr().transform((s,c)=>c===""?null:s).nullable(!0).label(e);return r.required&&(t=t.required()),(r.min||r.min===0)&&(t=t.min(r.min)),r.max&&(t=t.max(r.max)),t},datetime(e,r){r=r||{};let t=Fe().nullable(!0).label(e).transform((s,c)=>s?Be(c,"YYYY-MM-DD HH:mm").toISOString():null);return r.required&&(t=t.required()),t},date(e,r){r=r||{};let t=Fe().nullable(!0).label(e).test("is-date",ur("validation.mixed.default"),s=>s?Be(s,"YYYY-MM-DD").isValid():!0).transform(s=>s?Be(s).format("YYYY-MM-DD"):null);return r.required&&(t=t.required()),t}};var ye=e=>e instanceof HTMLElement;const ie={BLUR:"blur",CHANGE:"change",INPUT:"input"},X={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},br="select",Re="undefined",z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};function Pr({ref:e},r,t){ye(e)&&t&&(e.addEventListener(r?ie.CHANGE:ie.INPUT,t),e.addEventListener(ie.BLUR,t))}var H=e=>e==null;const hr=e=>typeof e=="object";var B=e=>!H(e)&&!Array.isArray(e)&&hr(e)&&!(e instanceof Date),Ae=e=>/^\w*$/.test(e),Z=e=>e.filter(Boolean),pr=e=>Z(e.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."));function S(e,r,t){let s=-1;const c=Ae(r)?[r]:pr(r),a=c.length,l=a-1;for(;++s<a;){const m=c[s];let o=t;if(s!==l){const x=e[m];o=B(x)||Array.isArray(x)?x:isNaN(+c[s+1])?{}:[]}e[m]=o,e=e[m]}return e}var qe=(e,r={})=>{for(const t in e)Ae(t)?r[t]=e[t]:S(r,t,e[t]);return r},L=e=>e===void 0,O=(e={},r,t)=>{const s=Z(r.split(/[,[\].]+?/)).reduce((c,a)=>H(c)?c:c[a],e);return L(s)||s===e?L(e[r])?t:e[r]:s},Nr=(e,r)=>{for(const t in e)if(O(r,t)){const s=e[t];if(s){if(s.ref.focus&&L(s.ref.focus()))break;if(s.options){s.options[0].ref.focus();break}}}},ir=(e,r)=>{ye(e)&&e.removeEventListener&&(e.removeEventListener(ie.INPUT,r),e.removeEventListener(ie.CHANGE,r),e.removeEventListener(ie.BLUR,r))};const cr={isValid:!1,value:""};var Or=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.ref.checked?{isValid:!0,value:t.ref.value}:r,cr):cr,Br=e=>[...e].filter(({selected:r})=>r).map(({value:r})=>r),Ee=e=>e.type==="radio",vr=e=>e.type==="file",ce=e=>e.type==="checkbox",xr=e=>e.type===`${br}-multiple`;const ar={value:!1,isValid:!1},lr={value:!0,isValid:!0};var gr=e=>{if(Array.isArray(e)){if(e.length>1){const c=e.filter(a=>a&&a.ref.checked).map(({ref:{value:a}})=>a);return{value:c,isValid:!!c.length}}const{checked:r,value:t,attributes:s}=e[0].ref;return r?s&&!L(s.value)?L(t)||t===""?lr:{value:t,isValid:!0}:lr:ar}return ar};function ue(e,r,t,s){const c=e.current[r];if(c){const{ref:{value:a,disabled:l},ref:m,valueAsNumber:o,valueAsDate:x,setValueAs:M}=c;return l&&s?void 0:vr(m)?m.files:Ee(m)?Or(c.options).value:xr(m)?Br(m.options):ce(m)?gr(c.options).value:o?+a:x?m.valueAsDate:M?M(a):a}if(t)return O(t.current,r)}function ke(e){return e?!(e instanceof HTMLElement)||e.nodeType===Node.DOCUMENT_NODE?!1:ke(e.parentNode):!0}var k=e=>B(e)&&!Object.keys(e).length,_e=e=>typeof e=="boolean";function Wr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=L(e)?s++:e[r[s++]];return e}function N(e,r){const t=Ae(r)?[r]:pr(r),s=t.length==1?e:Wr(e,t),c=t[t.length-1];let a;s&&delete s[c];for(let l=0;l<t.slice(0,-1).length;l++){let m=-1,o;const x=t.slice(0,-(l+1)),M=x.length-1;for(l>0&&(a=e);++m<x.length;){const V=x[m];o=o?o[V]:e[V],M===m&&(B(o)&&k(o)||Array.isArray(o)&&!o.filter(w=>B(w)&&!k(w)||_e(w)).length)&&(a?delete a[V]:delete e[V]),a=o}}return e}const or=(e,r)=>e&&e.ref===r;function $r(e,r,t,s,c,a){const{ref:l,ref:{name:m}}=t,o=e.current[m];if(!c){const x=ue(e,m,s);!L(x)&&S(s.current,m,x)}if(!l.type||!o){delete e.current[m];return}Ee(l)||ce(l)?Array.isArray(o.options)&&o.options.length?(Z(o.options).forEach((x={},M)=>{(ke(x.ref)&&or(x,x.ref)||a)&&(ir(x.ref,r),N(o.options,`[${M}]`))}),o.options&&!Z(o.options).length&&delete e.current[m]):delete e.current[m]:(ke(l)&&or(o,l)||a)&&(ir(l,r),delete e.current[m])}var ee=e=>H(e)||!hr(e);function Ge(e,r){if(ee(e)||ee(r))return r;for(const t in r){const s=e[t],c=r[t];try{e[t]=B(s)&&B(c)||Array.isArray(s)&&Array.isArray(c)?Ge(s,c):c}catch{}}return e}function Ye(e,r,t,s,c){let a=-1;for(;++a<e.length;){for(const l in e[a])Array.isArray(e[a][l])?(!t[a]&&(t[a]={}),t[a][l]=[],Ye(e[a][l],O(r[a]||{},l,[]),t[a][l],t[a],l)):O(r[a]||{},l)===e[a][l]?S(t[a]||{},l):t[a]=Object.assign(Object.assign({},t[a]),{[l]:!0});s&&!t.length&&delete s[c]}return t}var Yr=(e,r,t)=>Ge(Ye(e,r,t),Ye(r,e,t)),G=e=>typeof e=="string",We=(e,r,t,s,c)=>{const a={};for(const l in e.current)(L(c)||(G(c)?l.startsWith(c):Array.isArray(c)&&c.find(m=>l.startsWith(m))))&&(a[l]=ue(e,l,void 0,s));return t?qe(a):Ge(r,qe(a))};function se(e,r,t){if(ee(e)||ee(r)||e instanceof Date||r instanceof Date)return e===r;if(!f.isValidElement(e)){const s=Object.keys(e),c=Object.keys(r);if(s.length!==c.length)return!1;for(const a of s){const l=e[a];if(!(t&&a==="ref")){const m=r[a];if((B(l)||Array.isArray(l))&&(B(m)||Array.isArray(m))?!se(l,m,t):l!==m)return!1}}}return!0}var Hr=({errors:e,name:r,error:t,validFields:s,fieldsWithValidation:c})=>{const a=L(t),l=O(e,r);return a&&!!l||!a&&!se(l,t,!0)||a&&O(c,r)&&!O(s,r)},Vr=e=>e instanceof RegExp,fe=e=>B(e)&&!Vr(e)?e:{value:e,message:""},Rr=e=>typeof e=="function",He=e=>G(e)||f.isValidElement(e);function fr(e,r,t="validate"){if(He(e)||_e(e)&&!e)return{type:t,message:He(e)?e:"",ref:r}}var _r=(e,r,t,s,c)=>r?Object.assign(Object.assign({},t[e]),{types:Object.assign(Object.assign({},t[e]&&t[e].types?t[e].types:{}),{[s]:c||!0})}):{},Me=async(e,r,{ref:t,ref:{value:s},options:c,required:a,maxLength:l,minLength:m,min:o,max:x,pattern:M,validate:V},w)=>{const I=t.name,E={},T=Ee(t),j=ce(t),me=T||j,K=s==="",W=_r.bind(null,I,r,E),R=(A,g,v,C=z.maxLength,P=z.minLength)=>{const U=A?g:v;E[I]=Object.assign({type:A?C:P,message:U,ref:t},W(A?C:P,U))};if(a&&(!T&&!j&&(K||H(s))||_e(s)&&!s||j&&!gr(c).isValid||T&&!Or(c).isValid)){const{value:A,message:g}=He(a)?{value:!!a,message:a}:fe(a);if(A&&(E[I]=Object.assign({type:z.required,message:g,ref:me?((e.current[I].options||[])[0]||{}).ref:t},W(z.required,g)),!r))return E}if((!H(o)||!H(x))&&s!==""){let A,g;const v=fe(x),C=fe(o);if(isNaN(s)){const P=t.valueAsDate||new Date(s);G(v.value)&&(A=P>new Date(v.value)),G(C.value)&&(g=P<new Date(C.value))}else{const P=t.valueAsNumber||parseFloat(s);H(v.value)||(A=P>v.value),H(C.value)||(g=P<C.value)}if((A||g)&&(R(!!A,v.message,C.message,z.max,z.min),!r))return E}if(G(s)&&!K&&(l||m)){const A=fe(l),g=fe(m),v=!H(A.value)&&s.length>A.value,C=!H(g.value)&&s.length<g.value;if((v||C)&&(R(v,A.message,g.message),!r))return E}if(G(s)&&M&&!K){const{value:A,message:g}=fe(M);if(Vr(A)&&!A.test(s)&&(E[I]=Object.assign({type:z.pattern,message:g,ref:t},W(z.pattern,g)),!r))return E}if(V){const A=ue(e,I,w),g=me&&c?c[0].ref:t;if(Rr(V)){const v=await V(A),C=fr(v,g);if(C&&(E[I]=Object.assign(Object.assign({},C),W(z.validate,C.message)),!r))return E}else if(B(V)){let v={};for(const[C,P]of Object.entries(V)){if(!k(v)&&!r)break;const U=await P(A),be=fr(U,g,C);be&&(v=Object.assign(Object.assign({},be),W(C,be.message)),r&&(E[I]=v))}if(!k(v)&&(E[I]=Object.assign({ref:g},v),!r))return E}}return E};const ze=(e,r,t=[])=>{for(const s in r){const c=e+(B(r)?`.${s}`:`[${s}]`);ee(r[s])?t.push(c):ze(c,r[s],t)}return t};var dr=(e,r,t,s,c)=>{let a;return t.add(r),k(e)||(a=O(e,r),(B(a)||Array.isArray(a))&&ze(r,a).forEach(l=>t.add(l))),L(a)?c?s:O(s,r):a},Gr=({isOnBlur:e,isOnChange:r,isOnTouch:t,isTouched:s,isReValidateOnBlur:c,isReValidateOnChange:a,isBlurEvent:l,isSubmitted:m,isOnAll:o})=>o?!1:!m&&t?!(s||l):(m?c:e)?!l:(m?a:r)?l:!0,$e=e=>e.substring(0,e.indexOf("["));const zr=(e,r)=>RegExp(`^${r}([|.)\\d+`.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e);var Kr=(e,r)=>[...e].some(t=>zr(r,t)),Ur=e=>e.type===`${br}-one`;function Jr(e,r){const t=new MutationObserver(()=>{for(const s of Object.values(e.current))if(s&&s.options)for(const c of s.options)c&&c.ref&&ke(c.ref)&&r(s);else s&&ke(s.ref)&&r(s)});return t.observe(window.document,{childList:!0,subtree:!0}),t}var de=typeof window!==Re&&typeof document!==Re;function Q(e){let r;if(ee(e)||de&&(e instanceof File||ye(e)))return e;if(e instanceof Date)return r=new Date(e.getTime()),r;if(e instanceof Set){r=new Set;for(const t of e)r.add(t);return r}if(e instanceof Map){r=new Map;for(const t of e.keys())r.set(t,Q(e.get(t)));return r}r=Array.isArray(e)?[]:{};for(const t in e)r[t]=Q(e[t]);return r}var yr=e=>({isOnSubmit:!e||e===X.onSubmit,isOnBlur:e===X.onBlur,isOnChange:e===X.onChange,isOnAll:e===X.all,isOnTouch:e===X.onTouched}),mr=e=>Ee(e)||ce(e);const Qr=typeof window===Re,ne=de?"Proxy"in window:typeof Proxy!==Re;function ct({mode:e=X.onSubmit,reValidateMode:r=X.onChange,resolver:t,context:s,defaultValues:c={},shouldFocusError:a=!0,shouldUnregister:l=!0,criteriaMode:m}={}){const o=f.useRef({}),x=f.useRef({}),M=f.useRef({}),V=f.useRef(new Set),w=f.useRef({}),I=f.useRef({}),E=f.useRef({}),T=f.useRef({}),j=f.useRef(c),me=f.useRef(!1),K=f.useRef(!1),W=f.useRef(),R=f.useRef({}),A=f.useRef({}),g=f.useRef(s),v=f.useRef(t),C=f.useRef(new Set),P=f.useRef(yr(e)),{isOnSubmit:U,isOnTouch:be}=P.current,$=m===X.all,[ae,Ar]=f.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!U,errors:{}}),q=f.useRef({isDirty:!ne,dirtyFields:!ne,touched:!ne||be,isValidating:!ne,isSubmitting:!ne,isValid:!ne}),d=f.useRef(ae),he=f.useRef(),{isOnBlur:Ue,isOnChange:Je}=f.useRef(yr(r)).current;g.current=s,v.current=t,d.current=ae,R.current=l?{}:k(R.current)?Q(c):R.current;const F=f.useCallback((n={})=>{me.current||(d.current=Object.assign(Object.assign({},d.current),n),Ar(d.current))},[]),Qe=()=>q.current.isValidating&&F({isValidating:!0}),pe=f.useCallback((n,i,u=!1,h={},b)=>{let y=u||Hr({errors:d.current.errors,error:i,name:n,validFields:T.current,fieldsWithValidation:E.current});const p=O(d.current.errors,n);i?(N(T.current,n),y=y||!p||!se(p,i,!0),S(d.current.errors,n,i)):((O(E.current,n)||v.current)&&(S(T.current,n,!0),y=y||p),N(d.current.errors,n)),(y&&!H(u)||!k(h)||q.current.isValidating)&&F(Object.assign(Object.assign(Object.assign({},h),v.current?{isValid:!!b}:{}),{isValidating:!1}))},[]),Oe=f.useCallback((n,i)=>{const{ref:u,options:h}=o.current[n],b=de&&ye(u)&&H(i)?"":i;Ee(u)?(h||[]).forEach(({ref:y})=>y.checked=y.value===b):vr(u)&&!G(b)?u.files=b:xr(u)?[...u.options].forEach(y=>y.selected=b.includes(y.value)):ce(u)&&h?h.length>1?h.forEach(({ref:y})=>y.checked=Array.isArray(b)?!!b.find(p=>p===y.value):b===y.value):h[0].ref.checked=!!b:u.value=b},[]),Le=f.useCallback((n,i)=>{if(q.current.isDirty){const u=le();return n&&i&&S(u,n,i),!se(u,j.current)}return!1},[]),ve=f.useCallback((n,i=!0)=>{if(q.current.isDirty||q.current.dirtyFields){const u=!se(O(j.current,n),ue(o,n,R)),h=O(d.current.dirtyFields,n),b=d.current.isDirty;u?S(d.current.dirtyFields,n,!0):N(d.current.dirtyFields,n);const y={isDirty:Le(),dirtyFields:d.current.dirtyFields},p=q.current.isDirty&&b!==y.isDirty||q.current.dirtyFields&&h!==O(d.current.dirtyFields,n);return p&&i&&F(y),p?y:{}}return{}},[]),Ie=f.useCallback(async(n,i)=>{const u=(await Me(o,$,o.current[n],R))[n];return pe(n,u,i),L(u)},[pe,$]),Xe=f.useCallback(async n=>{const{errors:i}=await v.current(le(),g.current,$),u=d.current.isValid;if(Array.isArray(n)){const h=n.map(b=>{const y=O(i,b);return y?S(d.current.errors,b,y):N(d.current.errors,b),!y}).every(Boolean);return F({isValid:k(i),isValidating:!1}),h}else{const h=O(i,n);return pe(n,h,u!==k(i),{},k(i)),!h}},[pe,$]),xe=f.useCallback(async n=>{const i=n||Object.keys(o.current);if(Qe(),v.current)return Xe(i);if(Array.isArray(i)){!n&&(d.current.errors={});const u=await Promise.all(i.map(async h=>await Ie(h,null)));return F({isValidating:!1}),u.every(Boolean)}return await Ie(i)},[Xe,Ie]),Ze=f.useCallback((n,i,{shouldDirty:u,shouldValidate:h})=>{const b={};S(b,n,i);for(const y of ze(n,i))o.current[y]&&(Oe(y,O(b,y)),u&&ve(y),h&&xe(y))},[xe,Oe,ve]),er=f.useCallback((n,i,u)=>{if(!l&&!ee(i)&&S(R.current,n,Object.assign({},i)),o.current[n])Oe(n,i),u.shouldDirty&&ve(n),u.shouldValidate&&xe(n);else if(!ee(i)&&(Ze(n,i,u),C.current.has(n))){const h=$e(n)||n;S(x.current,n,i),A.current[h]({[h]:O(x.current,h)}),(q.current.isDirty||q.current.dirtyFields)&&u.shouldDirty&&(S(d.current.dirtyFields,n,Yr(i,O(j.current,n,[]),O(d.current.dirtyFields,n,[]))),F({isDirty:!se(Object.assign(Object.assign({},le()),{[n]:i}),j.current)}))}!l&&S(R.current,n,i)},[ve,Oe,Ze]),rr=n=>K.current||V.current.has(n)||V.current.has((n.match(/\w+/)||[])[0]),ge=n=>{let i=!0;if(!k(w.current))for(const u in w.current)(!n||!w.current[u].size||w.current[u].has(n)||w.current[u].has($e(n)))&&(I.current[u](),i=!1);return i};function kr(n,i,u){er(n,i,u||{}),rr(n)&&F(),ge(n)}W.current=W.current?W.current:async({type:n,target:i})=>{let u=i.name;const h=o.current[u];let b,y;if(h){const p=n===ie.BLUR,Y=Gr(Object.assign({isBlurEvent:p,isReValidateOnChange:Je,isReValidateOnBlur:Ue,isTouched:!!O(d.current.touched,u),isSubmitted:d.current.isSubmitted},P.current));let _=ve(u,!1),oe=!k(_)||!p&&rr(u);if(p&&!O(d.current.touched,u)&&q.current.touched&&(S(d.current.touched,u,!0),_=Object.assign(Object.assign({},_),{touched:d.current.touched})),!l&&ce(i)&&S(R.current,u,ue(o,u)),Y)return!p&&ge(u),(!k(_)||oe&&k(_))&&F(_);if(Qe(),v.current){const{errors:D}=await v.current(le(),g.current,$),Ve=d.current.isValid;if(b=O(D,u),ce(i)&&!b&&v.current){const J=$e(u),re=O(D,J,{});re.type&&re.message&&(b=re),J&&(re||O(d.current.errors,J))&&(u=J)}y=k(D),Ve!==y&&(oe=!0)}else b=(await Me(o,$,h,R))[u];!p&&ge(u),pe(u,b,oe,_,y)}};function tr(n){if(!l){let i=Q(n);for(const u of C.current)Ae(u)&&!i[u]&&(i=Object.assign(Object.assign({},i),{[u]:[]}));return i}return n}function le(n){if(G(n))return ue(o,n,R);if(Array.isArray(n)){const i={};for(const u of n)S(i,u,ue(o,u,R));return i}return tr(We(o,Q(R.current),l))}const Ce=f.useCallback(async(n={})=>{const{errors:i}=await v.current(Object.assign(Object.assign({},le()),n),g.current,$),u=k(i);d.current.isValid!==u&&F({isValid:u})},[$]),Se=f.useCallback((n,i)=>$r(o,W.current,n,R,l,i),[l]),Te=f.useCallback(n=>{if(K.current)F();else{for(const i of V.current)if(i.startsWith(n)){F();break}ge(n)}},[]),je=f.useCallback((n,i)=>{n&&(Se(n,i),l&&!Z(n.options||[]).length&&(N(T.current,n.ref.name),N(E.current,n.ref.name),N(d.current.errors,n.ref.name),S(d.current.dirtyFields,n.ref.name,!0),F({isDirty:Le()}),q.current.isValid&&v.current&&Ce(),Te(n.ref.name)))},[Ce,Se]);function Er(n){n&&(Array.isArray(n)?n:[n]).forEach(i=>o.current[i]&&Ae(i)?delete d.current.errors[i]:N(d.current.errors,i)),F({errors:n?d.current.errors:{}})}function Cr(n,i){const u=(o.current[n]||{}).ref;S(d.current.errors,n,Object.assign(Object.assign({},i),{ref:u})),F({isValid:!1}),i.shouldFocus&&u&&u.focus&&u.focus()}const Pe=f.useCallback((n,i,u)=>{const h=u?w.current[u]:V.current;let b=We(o,Q(R.current),l,!1,n);if(G(n)){if(C.current.has(n)){const p=O(M.current,n,[]);b=!p.length||p.length!==Z(O(b,n,[])).length?M.current:b}return dr(b,n,h,L(O(j.current,n))?i:O(j.current,n),!0)}const y=L(i)?j.current:i;return Array.isArray(n)?n.reduce((p,Y)=>Object.assign(Object.assign({},p),{[Y]:dr(b,Y,h,y)}),{}):(K.current=L(u),qe(!k(b)&&b||y))},[]);function Sr(n,i){return Pe(n,i)}function jr(n){for(const i of Array.isArray(n)?n:[n])je(o.current[i],!0)}function Ne(n,i={}){const{name:u,type:h,value:b}=n,y=Object.assign({ref:n},i),p=o.current,Y=mr(n),_=Kr(C.current,u),oe=te=>de&&(!ye(n)||te===n);let D=p[u],Ve=!0,J;if(D&&(Y?Array.isArray(D.options)&&Z(D.options).find(te=>b===te.ref.value&&oe(te.ref)):oe(D.ref))){p[u]=Object.assign(Object.assign({},D),i);return}h?D=Y?Object.assign({options:[...Z(D&&D.options||[]),{ref:n}],ref:{type:h,name:u}},i):Object.assign({},y):D=y,p[u]=D;const re=L(O(R.current,u));(!k(j.current)||!re)&&(J=O(re?j.current:R.current,u),Ve=L(J),!Ve&&!_&&Oe(u,J)),k(i)||(S(E.current,u,!0),!U&&q.current.isValid&&Me(o,$,D,R).then(te=>{const Lr=d.current.isValid;k(te)?S(T.current,u,!0):N(T.current,u),Lr!==k(te)&&F()})),_&&Ve||!_&&N(d.current.dirtyFields,u),h&&Pr(Y&&D.options?D.options[D.options.length-1]:D,Y||Ur(n),W.current)}function Fr(n,i){if(!Qr)if(G(n))Ne({name:n},i);else if(B(n)&&"name"in n)Ne(n,i);else return u=>u&&Ne(u,n)}const wr=f.useCallback((n,i)=>async u=>{u&&u.preventDefault&&(u.preventDefault(),u.persist());let h={},b=tr(We(o,Q(R.current),l,!0));q.current.isSubmitting&&F({isSubmitting:!0});try{if(v.current){const{errors:y,values:p}=await v.current(b,g.current,$);d.current.errors=h=y,b=p}else for(const y of Object.values(o.current))if(y){const{name:p}=y.ref,Y=await Me(o,$,y,R);Y[p]?(S(h,p,Y[p]),N(T.current,p)):O(E.current,p)&&(N(d.current.errors,p),S(T.current,p,!0))}k(h)&&Object.keys(d.current.errors).every(y=>y in o.current)?(F({errors:{},isSubmitting:!0}),await n(b,u)):(d.current.errors=Object.assign(Object.assign({},d.current.errors),h),i&&await i(d.current.errors,u),a&&Nr(o.current,d.current.errors))}finally{d.current.isSubmitting=!1,F({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:k(d.current.errors),submitCount:d.current.submitCount+1})}},[a,$]),Dr=({errors:n,isDirty:i,isSubmitted:u,touched:h,isValid:b,submitCount:y,dirtyFields:p})=>{b||(T.current={},E.current={}),x.current={},V.current=new Set,K.current=!1,F({submitCount:y?d.current.submitCount:0,isDirty:i?d.current.isDirty:!1,isSubmitted:u?d.current.isSubmitted:!1,isValid:b?d.current.isValid:!1,dirtyFields:p?d.current.dirtyFields:{},touched:h?d.current.touched:{},errors:n?d.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Mr=(n,i={})=>{if(de){for(const u of Object.values(o.current))if(u){const{ref:h,options:b}=u,y=mr(h)&&Array.isArray(b)?b[0].ref:h;if(ye(y))try{y.closest("form").reset();break}catch{}}}o.current={},j.current=Object.assign({},n||j.current),n&&ge(""),Object.values(A.current).forEach(u=>Rr(u)&&u()),R.current=l?{}:Q(n||j.current),Dr(i)};f.useEffect(()=>{t&&q.current.isValid&&Ce(),he.current=he.current||!de?he.current:Jr(o,je)},[je,j.current]),f.useEffect(()=>()=>{he.current&&he.current.disconnect(),me.current=!0,Object.values(o.current).forEach(n=>je(n,!0))},[]),!t&&q.current.isValid&&(ae.isValid=se(T.current,E.current)&&k(d.current.errors));const nr={trigger:xe,setValue:f.useCallback(kr,[er,xe]),getValues:f.useCallback(le,[]),register:f.useCallback(Fr,[j.current]),unregister:f.useCallback(jr,[]),formState:ne?new Proxy(ae,{get:(n,i)=>{if(i in n)return q.current[i]=!0,n[i]}}):ae},qr=f.useMemo(()=>Object.assign({isFormDirty:Le,updateWatchedValue:Te,shouldUnregister:l,updateFormState:F,removeFieldEventListener:Se,watchInternal:Pe,mode:P.current,reValidateMode:{isReValidateOnBlur:Ue,isReValidateOnChange:Je},validateResolver:t?Ce:void 0,fieldsRef:o,resetFieldArrayFunctionRef:A,useWatchFieldsRef:w,useWatchRenderFunctionsRef:I,fieldArrayDefaultValuesRef:x,validFieldsRef:T,fieldsWithValidationRef:E,fieldArrayNamesRef:C,readFormStateRef:q,formStateRef:d,defaultValuesRef:j,shallowFieldsStateRef:R,fieldArrayValuesRef:M},nr),[j.current,Te,l,Se,Pe]);return Object.assign({watch:Sr,control:qr,handleSubmit:wr,reset:f.useCallback(Mr,[]),clearErrors:f.useCallback(Er,[]),setError:f.useCallback(Cr,[]),errors:ae.errors},nr)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Xr(e,r){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(e);c<s.length;c++)r.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(e,s[c])&&(t[s[c]]=e[s[c]]);return t}const Ke=f.createContext(null);Ke.displayName="RHFContext";const Zr=()=>f.useContext(Ke),at=e=>{var{children:r}=e,t=Xr(e,["children"]);return f.createElement(Ke.Provider,{value:Object.assign({},t)},r)};var et=()=>{const e=typeof performance===Re?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})};function lt({control:e,name:r,defaultValue:t}){const s=Zr(),{useWatchFieldsRef:c,useWatchRenderFunctionsRef:a,watchInternal:l,defaultValuesRef:m}=e||s.control,o=f.useState()[1],x=f.useRef(),M=f.useRef(t);return f.useEffect(()=>{const V=x.current=et(),w=a.current,I=c.current;return I[V]=new Set,w[V]=()=>o({}),l(r,M.current,V),()=>{delete I[V],delete w[V]}},[r,a,c,l,M]),x.current?l(r,M.current,x.current):L(t)?G(r)?O(m.current,r):Array.isArray(r)?r.reduce((V,w)=>Object.assign(Object.assign({},V),{[w]:O(m.current,w)}),{}):m.current:t}const rt=(e,r)=>Array.isArray(e.inner)&&e.inner.length?e.inner.reduce((t,{path:s,message:c,type:a})=>{const l=t[s]&&t[s].types||{},m=s||a;return Object.assign(Object.assign({},t),m?{[m]:Object.assign(Object.assign({},t[m]||{message:c,type:a}),r?{types:Object.assign(Object.assign({},l),{[a]:l[a]?[...[].concat(l[a]),c]:c})}:{})}:{})},{}):{[e.path]:{message:e.message,type:e.type}},tt=(e,r={abortEarly:!1})=>async(t,s,c=!1)=>{try{return r.context,{values:await e.validate(t,Object.assign(Object.assign({},r),{context:s})),errors:{}}}catch(a){const l=rt(a,c);return{values:{},errors:qe(l)}}},nt=Object.freeze(Object.defineProperty({__proto__:null,yupResolver:tt},Symbol.toStringTag,{value:"Module"})),st=Tr(nt);var ot=st;class ft{static errorMessage(r,t,s,c,a=null){var m;if(a)return a;if(!c&&!s[r])return null;const l=t[r];return((m=l==null?void 0:l[0])==null?void 0:m.message)||(l==null?void 0:l.message)||l||null}}export{at as F,it as a,lt as b,Zr as c,ft as d,ct as u,ot as y};
