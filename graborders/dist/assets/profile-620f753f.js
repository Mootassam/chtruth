import{p as e,u as r,k as x,a9 as p,o as n,aa as g,a8 as j,j as i,L as m}from"./index-cce0a49c.js";import{S as u}from"./SubHeader-1012ae6c.js";import{u as b}from"./useDispatch-c7d3eaf0.js";import"./useNotifications-f3d2090f.js";const y=[{icon:"fas fa-wallet",path:"/withdrawaddress",name:e("pages.profile.menu.withdrawalAddress"),requiresKyc:!0},{icon:"fas fa-lock",path:"/passwordtype",name:e("pages.profile.menu.password"),requiresKyc:!1},{icon:"fas fa-bell",path:"/notification",name:e("pages.profile.menu.notifications"),requiresKyc:!1},{icon:"fas fa-gift",path:"/invitation",name:e("pages.profile.menu.myInvitation"),requiresKyc:!0},{icon:"fas fa-language",path:"/language",name:e("pages.profile.menu.language"),requiresKyc:!1},{path:"/terms-of-use",icon:"fas fa-file-contract",name:e("pages.profile.menu.termsOfUse")},{path:"/privacy-portal",icon:"fas fa-user-shield",name:e("pages.profile.menu.privacyPortal")},{icon:"fas fa-info-circle",path:"/about",name:e("pages.profile.menu.aboutUs"),requiresKyc:!1},{icon:"fas fa-file-contract",path:"/approval",name:e("pages.profile.menu.msbApproval"),requiresKyc:!1},{icon:"fas fa-headset",path:"/LiveChat",name:e("pages.profile.menu.customerSupport"),requiresKyc:!1},{icon:"fab fa-google-play",path:"/playstore",name:e("pages.profile.menu.downloadApp"),requiresKyc:!1}],o={PENDING:"pending",SUCCESS:"success",UNVERIFIED:"unverified"};function P(){const s=b(),a=r(x.selectCurrentUser),c=r(p.selectRows);r(p.selectLoading);const t=n.useMemo(()=>{var l;return((l=c[0])==null?void 0:l.status)===o.PENDING?o.PENDING:a!=null&&a.kyc?o.SUCCESS:o.UNVERIFIED},[c,a==null?void 0:a.kyc]),d=n.useMemo(()=>({user:a}),[a]);n.useEffect(()=>{s(g.doFetch(d,d))},[s,d]);const v=n.useCallback(()=>{s(j.doSignout())},[s]),h=n.useMemo(()=>y.map(l=>({...l,disabled:l.requiresKyc&&!(a!=null&&a.kyc)})),[a==null?void 0:a.kyc]),N=n.useCallback(l=>{const f=i.jsxs("li",{className:`profile-settings-item ${l.disabled?"disabled":""}`,children:[i.jsxs("div",{className:"profile-settings-info",children:[i.jsx("div",{className:"profile-settings-icon",children:i.jsx("i",{className:l.icon})}),i.jsx("div",{className:"profile-settings-name",children:l.name})]}),i.jsx("div",{className:"profile-settings-arrow",children:i.jsx("i",{className:"fas fa-chevron-right"})})]});return l.disabled?i.jsx("div",{children:f},l.name):i.jsx(m,{to:l.path,className:"remove_blue",children:f},l.name)},[]);return i.jsxs("div",{className:"profile_container",children:[i.jsx(u,{title:e("pages.profile.title")}),i.jsxs("div",{className:"container-profile",children:[t===o.PENDING?i.jsx(S,{}):t===o.UNVERIFIED?i.jsx(I,{}):null,i.jsx(E,{currentUser:a,kycStatus:t}),i.jsx(V,{currentUser:a}),t===o.PENDING?i.jsx(C,{}):t===o.SUCCESS?i.jsx(w,{}):i.jsx(k,{}),i.jsxs("div",{className:"profile-info-section",children:[i.jsx("div",{className:"profile-section-title",children:e("pages.profile.settings")}),i.jsxs("ul",{className:"profile-settings-list",children:[h.map(N),i.jsxs("li",{className:"profile-settings-item",onClick:v,children:[i.jsxs("div",{className:"profile-settings-info",children:[i.jsx("div",{className:"profile-settings-icon",children:i.jsx("i",{className:"fas fa-sign-out-alt"})}),i.jsx("div",{className:"profile-settings-name",children:e("pages.profile.menu.logout")})]}),i.jsx("div",{className:"profile-settings-arrow",children:i.jsx("i",{className:"fas fa-chevron-right"})})]})]})]})]})]})}const S=()=>i.jsxs("div",{className:"verification-status",children:[i.jsx("div",{className:"status-icon",children:i.jsx("i",{className:"fas fa-clock"})}),i.jsx("div",{className:"status-title",children:e("pages.profile.verification.pending.title")}),i.jsx("div",{className:"status-desc",children:e("pages.profile.verification.pending.description")})]}),I=()=>i.jsxs("div",{className:"verification-alert",children:[i.jsx("div",{className:"alert-icon",children:i.jsx("i",{className:"fas fa-exclamation-triangle"})}),i.jsx("div",{className:"alert-title",children:e("pages.profile.verification.alert.title")}),i.jsx("div",{className:"alert-desc",children:e("pages.profile.verification.alert.description")}),i.jsx(m,{to:"/proof",className:"remove_blue",children:i.jsx("button",{className:"verify-now-button",children:e("pages.profile.verification.alert.verifyNow")})})]}),E=({currentUser:s,kycStatus:a})=>{var c;return i.jsxs("div",{className:"profile-profile-header",children:[i.jsx("div",{className:"profile-profile-avatar",children:i.jsx("i",{className:"fas fa-user"})}),i.jsxs("div",{className:"profile-profile-info",children:[i.jsx("div",{className:"profile-profile-name",children:(c=s==null?void 0:s.email)==null?void 0:c.split("@")[0]}),i.jsx("div",{className:a===o.SUCCESS?"profile-profile-status":"profile-not-status",children:a===o.SUCCESS?e("pages.profile.status.verified"):e("pages.profile.status.unverified")})]})]})},V=({currentUser:s})=>i.jsxs("div",{className:"profile-info-section",children:[i.jsx("div",{className:"profile-section-title",children:e("pages.profile.accountInfo.title")}),i.jsxs("div",{className:"profile-info-item",children:[i.jsx("div",{className:"profile-info-label",children:e("pages.profile.accountInfo.email")}),i.jsx("div",{className:"profile-info-value",children:s==null?void 0:s.email})]}),i.jsxs("div",{className:"profile-info-item",children:[i.jsx("div",{className:"profile-info-label",children:e("pages.profile.accountInfo.creditScore")}),i.jsx("div",{className:"profile-info-value",children:s==null?void 0:s.score})]}),i.jsxs("div",{className:"profile-info-item",children:[i.jsx("div",{className:"profile-info-label",children:e("pages.profile.accountInfo.invitationCode")}),i.jsx("div",{className:"profile-info-value",children:i.jsx("span",{className:"profile-invite-code",children:s!=null&&s.kyc?s==null?void 0:s.refcode:"******"})})]})]}),C=()=>i.jsxs("div",{className:"info-section",children:[i.jsx("div",{className:"profile-section-title",children:e("pages.profile.pendingVerifications.title")}),i.jsxs("div",{className:"verification-item",children:[i.jsx("div",{className:"verification-icon",children:i.jsx("i",{className:"fas fa-id-card"})}),i.jsxs("div",{className:"verification-info",children:[i.jsx("div",{className:"verification-name",children:e("pages.profile.pendingVerifications.identity.title")}),i.jsx("div",{className:"verification-desc",children:e("pages.profile.pendingVerifications.identity.description")})]}),i.jsx("div",{className:"verification-status-badge",children:e("pages.profile.pendingVerifications.status.pending")})]}),i.jsxs("div",{className:"verification-item",children:[i.jsx("div",{className:"verification-icon",children:i.jsx("i",{className:"fas fa-home"})}),i.jsxs("div",{className:"verification-info",children:[i.jsx("div",{className:"verification-name",children:e("pages.profile.pendingVerifications.address.title")}),i.jsx("div",{className:"verification-desc",children:e("pages.profile.pendingVerifications.address.description")})]}),i.jsx("div",{className:"verification-status-badge",children:e("pages.profile.pendingVerifications.status.pending")})]})]}),w=()=>i.jsxs("div",{className:"profile-info-section",children:[i.jsx("div",{className:"profile-section-title",children:e("pages.profile.approvedVerifications.title")}),i.jsxs("div",{className:"profile-verification-badge",children:[i.jsx("div",{className:"profile-badge-icon",children:i.jsx("i",{className:"fas fa-id-card"})}),i.jsxs("div",{className:"profile-badge-info",children:[i.jsx("div",{className:"profile-badge-title",children:e("pages.profile.approvedVerifications.identity.title")}),i.jsx("div",{className:"profile-badge-desc",children:e("pages.profile.approvedVerifications.status.completed")})]})]}),i.jsxs("div",{className:"profile-verification-badge",children:[i.jsx("div",{className:"profile-badge-icon",children:i.jsx("i",{className:"fas fa-shield-alt"})}),i.jsxs("div",{className:"profile-badge-info",children:[i.jsx("div",{className:"profile-badge-title",children:e("pages.profile.approvedVerifications.address.title")}),i.jsx("div",{className:"profile-badge-desc",children:e("pages.profile.approvedVerifications.status.completed")})]})]})]}),k=()=>i.jsxs("div",{className:"limitations-section",children:[i.jsx("div",{className:"limitations-title",children:e("pages.profile.limitations.title")}),i.jsx("ul",{className:"limitations-list",children:[e("pages.profile.limitations.withdrawalLimit"),e("pages.profile.limitations.stakingLimited"),e("pages.profile.limitations.advancedTrading"),e("pages.profile.limitations.fiatDeposits")].map((s,a)=>i.jsxs("li",{className:"limitation-item",children:[i.jsx("div",{className:"limitation-icon",children:i.jsx("i",{className:"fas fa-ban"})}),i.jsx("div",{className:"limitation-text",children:s})]},a))})]});export{P as default};
