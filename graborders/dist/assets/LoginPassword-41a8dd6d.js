import{I as i,J as a,T as m,u as c,f as u,h as w,j as s,U as p}from"./index-d1d6c6ad.js";import{S as f}from"./SubHeader-9b28101e.js";import{a as r,u as h,y as P,F as N}from"./FormErrors-b77a49a1.js";import{F as o}from"./FieldFormItem-1e51f150.js";import{u as x}from"./useDispatch-87ec624c.js";import"./useNotifications-0e6b3ef8.js";const b=i().shape({oldPassword:r.string(a("user.fields.oldPassword"),{required:!0}),newPassword:r.string(a("user.fields.newPassword"),{required:!0}),newPasswordConfirmation:r.string(a("user.fields.newPasswordConfirmation"),{required:!0}).oneOf([m("newPassword"),null],a("auth.passwordChange.mustMatch"))});function E(){const l=x();c(u.selectCurrentUser);const[d]=w.useState(()=>({oldPassword:"",newPassword:"",newPasswordConfirmation:""})),e=h({resolver:P.yupResolver(b),mode:"all",defaultValues:d}),n=t=>{l(p.doChangePassword(t.oldPassword,t.newPassword))};return s.jsxs("div",{className:"container",children:[s.jsx(f,{title:"Login Password"}),s.jsx(N,{...e,children:s.jsx("form",{onSubmit:e.handleSubmit(n),children:s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"card-title",children:"CHANGE LOGIN PASSWORD"}),s.jsx(o,{name:"oldPassword",type:"password",label:"Old Password",className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:"Ener your current password"}),s.jsx(o,{name:"newPassword",type:"password",label:"New Password",className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:"Create a new password"}),s.jsx(o,{name:"newPasswordConfirmation",type:"password",label:"Confirm Password",className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:"Confirm your new password"}),s.jsx("button",{className:"save-button",onClick:e.handleSubmit(n),children:"SAVE CHANGES"}),s.jsx("p",{className:"warning-message",children:"For the safety of your funds, withdrawals are not allowed within 24 hours after the login password has been changed."})]})})})]})}export{E as default};
