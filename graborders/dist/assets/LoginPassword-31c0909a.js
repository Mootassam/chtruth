import{X as t,p as s,a7 as m,u as w,k as c,o as p,j as a,a8 as u}from"./index-4cd6ea8b.js";import{S as g}from"./SubHeader-a259f0be.js";import{a as o,u as P,y as f,F as h}from"./FormErrors-7891a2f4.js";import{F as r}from"./FieldFormItem-cd698a33.js";import{u as N}from"./useDispatch-1f91c277.js";import"./useNotifications-b773cdf3.js";const x=t().shape({oldPassword:o.string(s("pages.loginPassword.fields.oldPassword"),{required:!0}),newPassword:o.string(s("pages.loginPassword.fields.newPassword"),{required:!0}),newPasswordConfirmation:o.string(s("pages.loginPassword.fields.newPasswordConfirmation"),{required:!0}).oneOf([m("newPassword"),null],s("pages.loginPassword.validation.mustMatch"))});function F(){const d=N();w(c.selectCurrentUser);const[i]=p.useState(()=>({oldPassword:"",newPassword:"",newPasswordConfirmation:""})),e=P({resolver:f.yupResolver(x),mode:"all",defaultValues:i}),l=n=>{d(u.doChangePassword(n.oldPassword,n.newPassword))};return a.jsxs("div",{className:"container",children:[a.jsx(g,{title:s("pages.loginPassword.title")}),a.jsx(h,{...e,children:a.jsx("form",{onSubmit:e.handleSubmit(l),children:a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"card-title",children:s("pages.loginPassword.cardTitle")}),a.jsx(r,{name:"oldPassword",type:"password",label:s("pages.loginPassword.fields.oldPassword"),className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:s("pages.loginPassword.placeholders.oldPassword")}),a.jsx(r,{name:"newPassword",type:"password",label:s("pages.loginPassword.fields.newPassword"),className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:s("pages.loginPassword.placeholders.newPassword")}),a.jsx(r,{name:"newPasswordConfirmation",type:"password",label:s("pages.loginPassword.fields.newPasswordConfirmation"),className:"form-input",className1:"form-group",className2:"form-label",className3:"password-input-container",placeholder:s("pages.loginPassword.placeholders.confirmPassword")}),a.jsx("button",{className:"save-button",onClick:e.handleSubmit(l),children:s("pages.loginPassword.buttons.saveChanges")}),a.jsx("p",{className:"warning-message",children:s("pages.loginPassword.warningMessage")})]})})})]})}export{F as default};
